{
  "hash": "597ba6d0ea7e0425fcf62c037fb4ad3d",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"White Noise and Random Walks - Part 2\"\nsubtitle: \"Chapter 4: Lesson 2\"\nformat: \n  html:\n    toc: false\neditor: source\nsidebar: false\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nsource(\"common_functions.R\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: pacman\n```\n\n\n:::\n:::\n\n```{=html}\n<script type=\"text/javascript\">\n function showhide(id) {\n    // Do nothing\n    return;\n }\n \n function openTab(evt, tabName) {\n    // Do nothing\n    return;\n }\n</script>\n```\n\n\n\n\n## Learning Outcomes\n\n\n<details>\n\n<summary>Characterize the properties of a random walk</summary>\n-   Define the second order properties of a random walk\n-   Define the backward shift operator\n-   Use the backward shift operator to state a random walk as a sequence of white noise realizations\n-   Define a random walk with drift\n\n</details>\n\n\n\n\n\n<details>\n\n<summary>Simulate realizations from basic time series models in R </summary>\n-   Simulate a random walk\n-   Plot a random walk\n\n</details>\n\n\n\n\n<details>\n\n<summary>Fit time series models to data and interpret fitted parameters</summary>\n-   Motive the need for differencing in time series analysis\n-   Define the difference operator\n-   Explain the relationship between the difference operator and the backward shift operator\n-   Test whether a series is a random walk using first differences\n-   Explain how to estimate a random walk with increasing slope using Holt-Winters\n-   Estimate the drift parameter of a random walk\n\n</details>\n\n\n\n\n\n\n\n\n## Preparation\n\n-   Read Sections 4.3.6-4.3.7 and 4.4\n\n\n\n## Learning Journal Exchange (10 min)\n\n-   Review another student's journal\n\n-   What would you add to your learning journal after reading another student's?\n\n-   What would you recommend the other student add to their learning journal?\n\n-   Sign the Learning Journal review sheet for your peer\n\n\n\n## Class Activity: Differencing a Time Series (15 min)\n\n\n\n\n```{.r .cell-code}\nset.seed(6)\nn <- 8\nd_operator <- data.frame(t = c(1:n), x = sample(1:15, n, replace = FALSE)) |>\n  mutate(diff = t - n)\n\n# Computes the value of the \"power_on_d\"^th difference from x_n\nd_value <- function(power_on_d = 0) {\n  out <- d_operator |> #### Note the use of this global variable\n    filter(diff == -power_on_d) |>\n    dplyr::select(x) |>\n    pull()\n  \n  return(out)\n}\n\nts_val <- function(t_value) {\n  out <- d_operator |> #### Note the use of this global variable\n    filter(t == t_value) |>\n    dplyr::select(x) |>\n    pull()\n  \n  return(out)\n}\n```\n\n\n\n\n### Example: McDonald's Stock Prices\n\n<a id=\"McDonalds\">Computing</a> the difference between successive terms of a random walk leads to a discrete white noise series. \n\n\\begin{align*}\nx_t &= x_{t-1} + w_t \\\\\nx_t - x_{t-1} &= w_t\n\\end{align*}\n\nIn many cases, differencing sequential terms of a non-stationary process can lead to a stationary process of differences.\nWe can use the code below to obtain the daily closing stock prices for any publicly-traded company. \n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\n# Set symbol and date range\nsymbol <- \"MCD\"\ncompany <- \"McDonald's\"\ndate_start <- \"2020-07-01\"\ndate_end <- \"2024-01-01\"\n\n# Fetch stock prices (can be used to get new data)\nstock_df <- tq_get(symbol, from = date_start, to = date_end, get = \"stock.prices\")\n\n# Transform data into tsibble\nstock_ts <- stock_df %>%\n  mutate(\n    dates = date, \n    value = adjusted\n  ) %>%\n  dplyr::select(dates, value) %>%\n  as_tibble() %>% \n  arrange(dates) |>\n  mutate(diff = value - lag(value)) |>\n  as_tsibble(index = dates, key = NULL)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Store data in a static file for future use\nstock_df |> rio::export(\"data/stock_price_mcd.parquet\")\n```\n:::\n\n\n\nThe time plot in @fig-example-stock-price-plot presents the closing price of McDonald's stock from 01/07/2020 to 01/01/2024.\n@fig-example-stock-difference-plot gives the differences in the closing prices of the stock as a time series.\n\n\n Beginning of two columns \n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nplot_ly(stock_ts, x = ~dates, y = ~value, type = 'scatter', mode = 'lines') %>%\n  layout(\n    xaxis = list(title = paste0(\"Dates (\", format(ymd(date_start), \"%d/%m/%Y\"), \" to \", format(ymd(date_end), \"%d/%m/%Y\"), \")\" ) ),\n    yaxis = list(title = \"Closing Price (US$)\"),\n    title = paste0(\"Time Plot of \", symbol, \" Daily Closing Price\")\n  )\n```\n\n::: {#fig-example-stock-price-plot .cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-c179619d1a829487b055\" style=\"width:100%;height:396px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-c179619d1a829487b055\">{\"x\":{\"visdat\":{\"4a7c486d12c5\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"4a7c486d12c5\",\"attrs\":{\"4a7c486d12c5\":{\"x\":{},\"y\":{},\"mode\":\"lines\",\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatter\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"Dates (01/07/2020 to 01/01/2024)\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"Closing Price (US$)\"},\"title\":\"Time Plot of MCD Daily Closing Price\",\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"x\":[\"2020-07-01\",\"2020-07-02\",\"2020-07-06\",\"2020-07-07\",\"2020-07-08\",\"2020-07-09\",\"2020-07-10\",\"2020-07-13\",\"2020-07-14\",\"2020-07-15\",\"2020-07-16\",\"2020-07-17\",\"2020-07-20\",\"2020-07-21\",\"2020-07-22\",\"2020-07-23\",\"2020-07-24\",\"2020-07-27\",\"2020-07-28\",\"2020-07-29\",\"2020-07-30\",\"2020-07-31\",\"2020-08-03\",\"2020-08-04\",\"2020-08-05\",\"2020-08-06\",\"2020-08-07\",\"2020-08-10\",\"2020-08-11\",\"2020-08-12\",\"2020-08-13\",\"2020-08-14\",\"2020-08-17\",\"2020-08-18\",\"2020-08-19\",\"2020-08-20\",\"2020-08-21\",\"2020-08-24\",\"2020-08-25\",\"2020-08-26\",\"2020-08-27\",\"2020-08-28\",\"2020-08-31\",\"2020-09-01\",\"2020-09-02\",\"2020-09-03\",\"2020-09-04\",\"2020-09-08\",\"2020-09-09\",\"2020-09-10\",\"2020-09-11\",\"2020-09-14\",\"2020-09-15\",\"2020-09-16\",\"2020-09-17\",\"2020-09-18\",\"2020-09-21\",\"2020-09-22\",\"2020-09-23\",\"2020-09-24\",\"2020-09-25\",\"2020-09-28\",\"2020-09-29\",\"2020-09-30\",\"2020-10-01\",\"2020-10-02\",\"2020-10-05\",\"2020-10-06\",\"2020-10-07\",\"2020-10-08\",\"2020-10-09\",\"2020-10-12\",\"2020-10-13\",\"2020-10-14\",\"2020-10-15\",\"2020-10-16\",\"2020-10-19\",\"2020-10-20\",\"2020-10-21\",\"2020-10-22\",\"2020-10-23\",\"2020-10-26\",\"2020-10-27\",\"2020-10-28\",\"2020-10-29\",\"2020-10-30\",\"2020-11-02\",\"2020-11-03\",\"2020-11-04\",\"2020-11-05\",\"2020-11-06\",\"2020-11-09\",\"2020-11-10\",\"2020-11-11\",\"2020-11-12\",\"2020-11-13\",\"2020-11-16\",\"2020-11-17\",\"2020-11-18\",\"2020-11-19\",\"2020-11-20\",\"2020-11-23\",\"2020-11-24\",\"2020-11-25\",\"2020-11-27\",\"2020-11-30\",\"2020-12-01\",\"2020-12-02\",\"2020-12-03\",\"2020-12-04\",\"2020-12-07\",\"2020-12-08\",\"2020-12-09\",\"2020-12-10\",\"2020-12-11\",\"2020-12-14\",\"2020-12-15\",\"2020-12-16\",\"2020-12-17\",\"2020-12-18\",\"2020-12-21\",\"2020-12-22\",\"2020-12-23\",\"2020-12-24\",\"2020-12-28\",\"2020-12-29\",\"2020-12-30\",\"2020-12-31\",\"2021-01-04\",\"2021-01-05\",\"2021-01-06\",\"2021-01-07\",\"2021-01-08\",\"2021-01-11\",\"2021-01-12\",\"2021-01-13\",\"2021-01-14\",\"2021-01-15\",\"2021-01-19\",\"2021-01-20\",\"2021-01-21\",\"2021-01-22\",\"2021-01-25\",\"2021-01-26\",\"2021-01-27\",\"2021-01-28\",\"2021-01-29\",\"2021-02-01\",\"2021-02-02\",\"2021-02-03\",\"2021-02-04\",\"2021-02-05\",\"2021-02-08\",\"2021-02-09\",\"2021-02-10\",\"2021-02-11\",\"2021-02-12\",\"2021-02-16\",\"2021-02-17\",\"2021-02-18\",\"2021-02-19\",\"2021-02-22\",\"2021-02-23\",\"2021-02-24\",\"2021-02-25\",\"2021-02-26\",\"2021-03-01\",\"2021-03-02\",\"2021-03-03\",\"2021-03-04\",\"2021-03-05\",\"2021-03-08\",\"2021-03-09\",\"2021-03-10\",\"2021-03-11\",\"2021-03-12\",\"2021-03-15\",\"2021-03-16\",\"2021-03-17\",\"2021-03-18\",\"2021-03-19\",\"2021-03-22\",\"2021-03-23\",\"2021-03-24\",\"2021-03-25\",\"2021-03-26\",\"2021-03-29\",\"2021-03-30\",\"2021-03-31\",\"2021-04-01\",\"2021-04-05\",\"2021-04-06\",\"2021-04-07\",\"2021-04-08\",\"2021-04-09\",\"2021-04-12\",\"2021-04-13\",\"2021-04-14\",\"2021-04-15\",\"2021-04-16\",\"2021-04-19\",\"2021-04-20\",\"2021-04-21\",\"2021-04-22\",\"2021-04-23\",\"2021-04-26\",\"2021-04-27\",\"2021-04-28\",\"2021-04-29\",\"2021-04-30\",\"2021-05-03\",\"2021-05-04\",\"2021-05-05\",\"2021-05-06\",\"2021-05-07\",\"2021-05-10\",\"2021-05-11\",\"2021-05-12\",\"2021-05-13\",\"2021-05-14\",\"2021-05-17\",\"2021-05-18\",\"2021-05-19\",\"2021-05-20\",\"2021-05-21\",\"2021-05-24\",\"2021-05-25\",\"2021-05-26\",\"2021-05-27\",\"2021-05-28\",\"2021-06-01\",\"2021-06-02\",\"2021-06-03\",\"2021-06-04\",\"2021-06-07\",\"2021-06-08\",\"2021-06-09\",\"2021-06-10\",\"2021-06-11\",\"2021-06-14\",\"2021-06-15\",\"2021-06-16\",\"2021-06-17\",\"2021-06-18\",\"2021-06-21\",\"2021-06-22\",\"2021-06-23\",\"2021-06-24\",\"2021-06-25\",\"2021-06-28\",\"2021-06-29\",\"2021-06-30\",\"2021-07-01\",\"2021-07-02\",\"2021-07-06\",\"2021-07-07\",\"2021-07-08\",\"2021-07-09\",\"2021-07-12\",\"2021-07-13\",\"2021-07-14\",\"2021-07-15\",\"2021-07-16\",\"2021-07-19\",\"2021-07-20\",\"2021-07-21\",\"2021-07-22\",\"2021-07-23\",\"2021-07-26\",\"2021-07-27\",\"2021-07-28\",\"2021-07-29\",\"2021-07-30\",\"2021-08-02\",\"2021-08-03\",\"2021-08-04\",\"2021-08-05\",\"2021-08-06\",\"2021-08-09\",\"2021-08-10\",\"2021-08-11\",\"2021-08-12\",\"2021-08-13\",\"2021-08-16\",\"2021-08-17\",\"2021-08-18\",\"2021-08-19\",\"2021-08-20\",\"2021-08-23\",\"2021-08-24\",\"2021-08-25\",\"2021-08-26\",\"2021-08-27\",\"2021-08-30\",\"2021-08-31\",\"2021-09-01\",\"2021-09-02\",\"2021-09-03\",\"2021-09-07\",\"2021-09-08\",\"2021-09-09\",\"2021-09-10\",\"2021-09-13\",\"2021-09-14\",\"2021-09-15\",\"2021-09-16\",\"2021-09-17\",\"2021-09-20\",\"2021-09-21\",\"2021-09-22\",\"2021-09-23\",\"2021-09-24\",\"2021-09-27\",\"2021-09-28\",\"2021-09-29\",\"2021-09-30\",\"2021-10-01\",\"2021-10-04\",\"2021-10-05\",\"2021-10-06\",\"2021-10-07\",\"2021-10-08\",\"2021-10-11\",\"2021-10-12\",\"2021-10-13\",\"2021-10-14\",\"2021-10-15\",\"2021-10-18\",\"2021-10-19\",\"2021-10-20\",\"2021-10-21\",\"2021-10-22\",\"2021-10-25\",\"2021-10-26\",\"2021-10-27\",\"2021-10-28\",\"2021-10-29\",\"2021-11-01\",\"2021-11-02\",\"2021-11-03\",\"2021-11-04\",\"2021-11-05\",\"2021-11-08\",\"2021-11-09\",\"2021-11-10\",\"2021-11-11\",\"2021-11-12\",\"2021-11-15\",\"2021-11-16\",\"2021-11-17\",\"2021-11-18\",\"2021-11-19\",\"2021-11-22\",\"2021-11-23\",\"2021-11-24\",\"2021-11-26\",\"2021-11-29\",\"2021-11-30\",\"2021-12-01\",\"2021-12-02\",\"2021-12-03\",\"2021-12-06\",\"2021-12-07\",\"2021-12-08\",\"2021-12-09\",\"2021-12-10\",\"2021-12-13\",\"2021-12-14\",\"2021-12-15\",\"2021-12-16\",\"2021-12-17\",\"2021-12-20\",\"2021-12-21\",\"2021-12-22\",\"2021-12-23\",\"2021-12-27\",\"2021-12-28\",\"2021-12-29\",\"2021-12-30\",\"2021-12-31\",\"2022-01-03\",\"2022-01-04\",\"2022-01-05\",\"2022-01-06\",\"2022-01-07\",\"2022-01-10\",\"2022-01-11\",\"2022-01-12\",\"2022-01-13\",\"2022-01-14\",\"2022-01-18\",\"2022-01-19\",\"2022-01-20\",\"2022-01-21\",\"2022-01-24\",\"2022-01-25\",\"2022-01-26\",\"2022-01-27\",\"2022-01-28\",\"2022-01-31\",\"2022-02-01\",\"2022-02-02\",\"2022-02-03\",\"2022-02-04\",\"2022-02-07\",\"2022-02-08\",\"2022-02-09\",\"2022-02-10\",\"2022-02-11\",\"2022-02-14\",\"2022-02-15\",\"2022-02-16\",\"2022-02-17\",\"2022-02-18\",\"2022-02-22\",\"2022-02-23\",\"2022-02-24\",\"2022-02-25\",\"2022-02-28\",\"2022-03-01\",\"2022-03-02\",\"2022-03-03\",\"2022-03-04\",\"2022-03-07\",\"2022-03-08\",\"2022-03-09\",\"2022-03-10\",\"2022-03-11\",\"2022-03-14\",\"2022-03-15\",\"2022-03-16\",\"2022-03-17\",\"2022-03-18\",\"2022-03-21\",\"2022-03-22\",\"2022-03-23\",\"2022-03-24\",\"2022-03-25\",\"2022-03-28\",\"2022-03-29\",\"2022-03-30\",\"2022-03-31\",\"2022-04-01\",\"2022-04-04\",\"2022-04-05\",\"2022-04-06\",\"2022-04-07\",\"2022-04-08\",\"2022-04-11\",\"2022-04-12\",\"2022-04-13\",\"2022-04-14\",\"2022-04-18\",\"2022-04-19\",\"2022-04-20\",\"2022-04-21\",\"2022-04-22\",\"2022-04-25\",\"2022-04-26\",\"2022-04-27\",\"2022-04-28\",\"2022-04-29\",\"2022-05-02\",\"2022-05-03\",\"2022-05-04\",\"2022-05-05\",\"2022-05-06\",\"2022-05-09\",\"2022-05-10\",\"2022-05-11\",\"2022-05-12\",\"2022-05-13\",\"2022-05-16\",\"2022-05-17\",\"2022-05-18\",\"2022-05-19\",\"2022-05-20\",\"2022-05-23\",\"2022-05-24\",\"2022-05-25\",\"2022-05-26\",\"2022-05-27\",\"2022-05-31\",\"2022-06-01\",\"2022-06-02\",\"2022-06-03\",\"2022-06-06\",\"2022-06-07\",\"2022-06-08\",\"2022-06-09\",\"2022-06-10\",\"2022-06-13\",\"2022-06-14\",\"2022-06-15\",\"2022-06-16\",\"2022-06-17\",\"2022-06-21\",\"2022-06-22\",\"2022-06-23\",\"2022-06-24\",\"2022-06-27\",\"2022-06-28\",\"2022-06-29\",\"2022-06-30\",\"2022-07-01\",\"2022-07-05\",\"2022-07-06\",\"2022-07-07\",\"2022-07-08\",\"2022-07-11\",\"2022-07-12\",\"2022-07-13\",\"2022-07-14\",\"2022-07-15\",\"2022-07-18\",\"2022-07-19\",\"2022-07-20\",\"2022-07-21\",\"2022-07-22\",\"2022-07-25\",\"2022-07-26\",\"2022-07-27\",\"2022-07-28\",\"2022-07-29\",\"2022-08-01\",\"2022-08-02\",\"2022-08-03\",\"2022-08-04\",\"2022-08-05\",\"2022-08-08\",\"2022-08-09\",\"2022-08-10\",\"2022-08-11\",\"2022-08-12\",\"2022-08-15\",\"2022-08-16\",\"2022-08-17\",\"2022-08-18\",\"2022-08-19\",\"2022-08-22\",\"2022-08-23\",\"2022-08-24\",\"2022-08-25\",\"2022-08-26\",\"2022-08-29\",\"2022-08-30\",\"2022-08-31\",\"2022-09-01\",\"2022-09-02\",\"2022-09-06\",\"2022-09-07\",\"2022-09-08\",\"2022-09-09\",\"2022-09-12\",\"2022-09-13\",\"2022-09-14\",\"2022-09-15\",\"2022-09-16\",\"2022-09-19\",\"2022-09-20\",\"2022-09-21\",\"2022-09-22\",\"2022-09-23\",\"2022-09-26\",\"2022-09-27\",\"2022-09-28\",\"2022-09-29\",\"2022-09-30\",\"2022-10-03\",\"2022-10-04\",\"2022-10-05\",\"2022-10-06\",\"2022-10-07\",\"2022-10-10\",\"2022-10-11\",\"2022-10-12\",\"2022-10-13\",\"2022-10-14\",\"2022-10-17\",\"2022-10-18\",\"2022-10-19\",\"2022-10-20\",\"2022-10-21\",\"2022-10-24\",\"2022-10-25\",\"2022-10-26\",\"2022-10-27\",\"2022-10-28\",\"2022-10-31\",\"2022-11-01\",\"2022-11-02\",\"2022-11-03\",\"2022-11-04\",\"2022-11-07\",\"2022-11-08\",\"2022-11-09\",\"2022-11-10\",\"2022-11-11\",\"2022-11-14\",\"2022-11-15\",\"2022-11-16\",\"2022-11-17\",\"2022-11-18\",\"2022-11-21\",\"2022-11-22\",\"2022-11-23\",\"2022-11-25\",\"2022-11-28\",\"2022-11-29\",\"2022-11-30\",\"2022-12-01\",\"2022-12-02\",\"2022-12-05\",\"2022-12-06\",\"2022-12-07\",\"2022-12-08\",\"2022-12-09\",\"2022-12-12\",\"2022-12-13\",\"2022-12-14\",\"2022-12-15\",\"2022-12-16\",\"2022-12-19\",\"2022-12-20\",\"2022-12-21\",\"2022-12-22\",\"2022-12-23\",\"2022-12-27\",\"2022-12-28\",\"2022-12-29\",\"2022-12-30\",\"2023-01-03\",\"2023-01-04\",\"2023-01-05\",\"2023-01-06\",\"2023-01-09\",\"2023-01-10\",\"2023-01-11\",\"2023-01-12\",\"2023-01-13\",\"2023-01-17\",\"2023-01-18\",\"2023-01-19\",\"2023-01-20\",\"2023-01-23\",\"2023-01-24\",\"2023-01-25\",\"2023-01-26\",\"2023-01-27\",\"2023-01-30\",\"2023-01-31\",\"2023-02-01\",\"2023-02-02\",\"2023-02-03\",\"2023-02-06\",\"2023-02-07\",\"2023-02-08\",\"2023-02-09\",\"2023-02-10\",\"2023-02-13\",\"2023-02-14\",\"2023-02-15\",\"2023-02-16\",\"2023-02-17\",\"2023-02-21\",\"2023-02-22\",\"2023-02-23\",\"2023-02-24\",\"2023-02-27\",\"2023-02-28\",\"2023-03-01\",\"2023-03-02\",\"2023-03-03\",\"2023-03-06\",\"2023-03-07\",\"2023-03-08\",\"2023-03-09\",\"2023-03-10\",\"2023-03-13\",\"2023-03-14\",\"2023-03-15\",\"2023-03-16\",\"2023-03-17\",\"2023-03-20\",\"2023-03-21\",\"2023-03-22\",\"2023-03-23\",\"2023-03-24\",\"2023-03-27\",\"2023-03-28\",\"2023-03-29\",\"2023-03-30\",\"2023-03-31\",\"2023-04-03\",\"2023-04-04\",\"2023-04-05\",\"2023-04-06\",\"2023-04-10\",\"2023-04-11\",\"2023-04-12\",\"2023-04-13\",\"2023-04-14\",\"2023-04-17\",\"2023-04-18\",\"2023-04-19\",\"2023-04-20\",\"2023-04-21\",\"2023-04-24\",\"2023-04-25\",\"2023-04-26\",\"2023-04-27\",\"2023-04-28\",\"2023-05-01\",\"2023-05-02\",\"2023-05-03\",\"2023-05-04\",\"2023-05-05\",\"2023-05-08\",\"2023-05-09\",\"2023-05-10\",\"2023-05-11\",\"2023-05-12\",\"2023-05-15\",\"2023-05-16\",\"2023-05-17\",\"2023-05-18\",\"2023-05-19\",\"2023-05-22\",\"2023-05-23\",\"2023-05-24\",\"2023-05-25\",\"2023-05-26\",\"2023-05-30\",\"2023-05-31\",\"2023-06-01\",\"2023-06-02\",\"2023-06-05\",\"2023-06-06\",\"2023-06-07\",\"2023-06-08\",\"2023-06-09\",\"2023-06-12\",\"2023-06-13\",\"2023-06-14\",\"2023-06-15\",\"2023-06-16\",\"2023-06-20\",\"2023-06-21\",\"2023-06-22\",\"2023-06-23\",\"2023-06-26\",\"2023-06-27\",\"2023-06-28\",\"2023-06-29\",\"2023-06-30\",\"2023-07-03\",\"2023-07-05\",\"2023-07-06\",\"2023-07-07\",\"2023-07-10\",\"2023-07-11\",\"2023-07-12\",\"2023-07-13\",\"2023-07-14\",\"2023-07-17\",\"2023-07-18\",\"2023-07-19\",\"2023-07-20\",\"2023-07-21\",\"2023-07-24\",\"2023-07-25\",\"2023-07-26\",\"2023-07-27\",\"2023-07-28\",\"2023-07-31\",\"2023-08-01\",\"2023-08-02\",\"2023-08-03\",\"2023-08-04\",\"2023-08-07\",\"2023-08-08\",\"2023-08-09\",\"2023-08-10\",\"2023-08-11\",\"2023-08-14\",\"2023-08-15\",\"2023-08-16\",\"2023-08-17\",\"2023-08-18\",\"2023-08-21\",\"2023-08-22\",\"2023-08-23\",\"2023-08-24\",\"2023-08-25\",\"2023-08-28\",\"2023-08-29\",\"2023-08-30\",\"2023-08-31\",\"2023-09-01\",\"2023-09-05\",\"2023-09-06\",\"2023-09-07\",\"2023-09-08\",\"2023-09-11\",\"2023-09-12\",\"2023-09-13\",\"2023-09-14\",\"2023-09-15\",\"2023-09-18\",\"2023-09-19\",\"2023-09-20\",\"2023-09-21\",\"2023-09-22\",\"2023-09-25\",\"2023-09-26\",\"2023-09-27\",\"2023-09-28\",\"2023-09-29\",\"2023-10-02\",\"2023-10-03\",\"2023-10-04\",\"2023-10-05\",\"2023-10-06\",\"2023-10-09\",\"2023-10-10\",\"2023-10-11\",\"2023-10-12\",\"2023-10-13\",\"2023-10-16\",\"2023-10-17\",\"2023-10-18\",\"2023-10-19\",\"2023-10-20\",\"2023-10-23\",\"2023-10-24\",\"2023-10-25\",\"2023-10-26\",\"2023-10-27\",\"2023-10-30\",\"2023-10-31\",\"2023-11-01\",\"2023-11-02\",\"2023-11-03\",\"2023-11-06\",\"2023-11-07\",\"2023-11-08\",\"2023-11-09\",\"2023-11-10\",\"2023-11-13\",\"2023-11-14\",\"2023-11-15\",\"2023-11-16\",\"2023-11-17\",\"2023-11-20\",\"2023-11-21\",\"2023-11-22\",\"2023-11-24\",\"2023-11-27\",\"2023-11-28\",\"2023-11-29\",\"2023-11-30\",\"2023-12-01\",\"2023-12-04\",\"2023-12-05\",\"2023-12-06\",\"2023-12-07\",\"2023-12-08\",\"2023-12-11\",\"2023-12-12\",\"2023-12-13\",\"2023-12-14\",\"2023-12-15\",\"2023-12-18\",\"2023-12-19\",\"2023-12-20\",\"2023-12-21\",\"2023-12-22\",\"2023-12-26\",\"2023-12-27\",\"2023-12-28\",\"2023-12-29\"],\"y\":[166.6070556640625,165.57850646972656,170.07162475585938,167.65362548828125,167.68070983886719,166.30928039550781,166.80552673339844,166.84161376953125,172.0745849609375,173.02194213867188,172.25503540039062,172.76028442382812,172.87757873535156,174.1136474609375,179.20225524902344,178.23689270019531,179.29249572753906,181.57516479492188,177.054931640625,177.02789306640625,176.30609130859375,175.28656005859375,175.39480590820312,179.86994934082031,179.7796630859375,183.31646728515625,184.59762573242188,184.16456604003906,184.95852661132812,185.87882995605469,186.30288696289062,186.7900390625,188.26976013183594,189.75843811035156,189.02760314941406,189.36146545410156,190.88623046875,191.83358764648438,191.86062622070312,192.86212158203125,191.44561767578125,193.89968872070312,193.77265930175781,193.0194091796875,196.2320556640625,194.0267333984375,192.14822387695312,193.82711791992188,195.76014709472656,197.14859008789062,197.83833312988281,200.16152954101562,201.80413818359375,204.01849365234375,201.9947509765625,199.89840698242188,196.39535522460938,196.39535522460938,195.08854675292969,196.13218688964844,198.00167846679688,199.88929748535156,198.45539855957031,199.19052124023438,199.28126525878906,202.07643127441406,205.16195678710938,203.36508178710938,205.53402709960938,204.91694641113281,204.03665161132812,205.19825744628906,206.32357788085938,206.568603515625,208.40180969238281,208.15676879882812,205.09844970703125,206.41429138183594,207.08590698242188,207.95710754394531,207.55780029296875,203.5284423828125,202.3486328125,194.83444213867188,195.07038879394531,193.30075073242188,192.90141296386719,196.74929809570312,194.997802734375,196.30461120605469,196.53152465820312,193.50041198730469,193.59114074707031,197.85643005371094,193.36427307128906,193.55485534667969,196.68577575683594,196.03236389160156,195.58769226074219,195.21559143066406,194.28996276855469,196.93077087402344,199.39016723632812,199.05436706542969,198.1378173828125,198.50296020507812,197.316162109375,192.49603271484375,193.08938598632812,192.38648986816406,190.69758605957031,190.24111938476562,190.51502990722656,189.92158508300781,189.66600036621094,193.46369934082031,196.14762878417969,195.17994689941406,195.59077453613281,196.3485107421875,193.23545837402344,193.46369934082031,193.55500793457031,192.97981262207031,195.38081359863281,194.18490600585938,193.13505554199219,195.89202880859375,191.91177368164062,193.06201171875,192.62382507324219,193.51847839355469,197.06967163085938,195.57252502441406,193.17160034179688,193.61888122558594,190.34152221679688,191.62879943847656,190.88018798828125,195.0247802734375,194.93348693847656,194.79656982421875,194.75999450683594,196.62236022949219,188.97221374511719,188.807861328125,189.739013671875,189.8211669921875,191.4918212890625,190.53327941894531,192.65116882324219,194.06620788574219,193.15328979492188,197.17008972167969,195.72773742675781,195.60902404785156,195.27125549316406,196.3028564453125,194.86042785644531,196.66802978515625,193.75582885742188,193.59147644042969,192.91596984863281,194.69615173339844,192.57817077636719,189.34498596191406,191.28305053710938,191.66883850097656,189.05105590820312,188.15087890625,190.4747314453125,192.07298278808594,191.55860900878906,195.93081665039062,194.33255004882812,195.039794921875,202.49827575683594,201.9471435546875,205.85087585449219,204.73945617675781,204.31694030761719,206.732666015625,206.08973693847656,205.79576110839844,205.93357849121094,206.86125183105469,208.826904296875,206.64997863769531,205.87844848632812,206.86125183105469,210.20468139648438,213.01536560058594,213.65834045410156,211.49064636230469,212.62040710449219,212.14280700683594,212.47344970703125,211.54573059082031,212.43670654296875,214.09005737304688,212.92352294921875,214.02574157714844,213.33685302734375,213.97984313964844,215.46786499023438,213.38279724121094,215.83525085449219,213.47465515136719,216.04655456542969,216.84561157226562,216.36802673339844,214.80653381347656,215.89036560058594,215.72502136230469,215.70664978027344,217.79173278808594,214.80653381347656,209.36882019042969,211.04972839355469,212.84088134765625,212.80412292480469,213.03373718261719,211.39878845214844,213.26336669921875,212.39996337890625,213.01536560058594,213.2266845703125,213.41954040527344,215.72502136230469,216.02056884765625,215.42025756835938,215.91896057128906,214.69061279296875,215.54953002929688,213.98867797851562,214.8660888671875,213.78549194335938,216.66709899902344,218.82830810546875,218.87446594238281,218.29264831542969,217.58146667480469,216.01133728027344,212.07681274414062,215.106201171875,216.01133728027344,215.42025756835938,215.50337219238281,214.66288757324219,213.43447875976562,212.76951599121094,213.34214782714844,214.52433776855469,215.78047180175781,214.96769714355469,216.70405578613281,215.05082702636719,217.67381286621094,217.60917663574219,218.12638854980469,219.0130615234375,218.78216552734375,216.81488037109375,211.74430847167969,216.37156677246094,217.90472412109375,220.43540954589844,224.39765930175781,225.33967590332031,227.52864074707031,223.30780029296875,225.37664794921875,224.16673278808594,221.75616455078125,218.8468017578125,216.88874816894531,218.3572998046875,218.20953369140625,216.75019836425781,215.61419677734375,217.55375671386719,218.58822631835938,220.57395935058594,222.55967712402344,221.92239379882812,219.89047241210938,219.10537719726562,220.26914978027344,221.34974670410156,220.21371459960938,220.58316040039062,218.8468017578125,219.33633422851562,218.51429748535156,220.52021789550781,221.16098022460938,222.75827026367188,221.78321838378906,219.34077453613281,221.59745788574219,221.58816528320312,222.11749267578125,224.00271606445312,223.92840576171875,223.78912353515625,225.86003112792969,225.19139099121094,222.033935546875,223.34333801269531,225.78573608398438,227.31803894042969,228.84101867675781,230.41050720214844,226.38008117675781,226.85369873046875,223.90982055664062,225.60000610351562,225.73931884765625,227.72662353515625,229.47251892089844,230.60549926757812,230.02969360351562,228.98963928222656,227.07658386230469,225.33998107910156,227.10444641113281,224.968505859375,224.97776794433594,225.45143127441406,222.61898803710938,224.17913818359375,221.43032836914062,220.40875244140625,219.55442810058594,225.41423034667969,227.98666381835938,228.03309631347656,232.70426940917969,231.45988464355469,232.537109375,235.37879943847656,236.53965759277344,235.04449462890625,234.6265869140625,235.07235717773438,232.31422424316406,232.787841796875,234.89590454101562,234.45018005371094,234.66374206542969,235.39739990234375,233.97651672363281,235.39739990234375,237.41258239746094,238.76841735839844,232.1749267578125,232.44422912597656,228.41017150878906,228.01797485351562,232.33218383789062,232.82711791992188,238.85951232910156,242.70681762695312,242.39869689941406,244.97598266601562,247.43194580078125,245.67634582519531,245.14407348632812,247.01170349121094,247.97349548339844,244.37832641601562,244.40640258789062,246.89030456542969,247.40385437011719,248.3470458984375,250.48548889160156,250.14927673339844,250.7188720703125,249.52363586425781,250.32673645019531,250.80293273925781,250.73762512207031,249.50498962402344,251.83952331542969,249.38356018066406,246.90895080566406,244.77053833007812,243.64999389648438,244.1075439453125,240.65238952636719,239.50382995605469,238.3272705078125,236.3756103515625,237.73898315429688,236.82382202148438,234.08773803710938,233.31269836425781,232.27618408203125,239.1396484375,242.27728271484375,241.84771728515625,244.91999816894531,243.38851928710938,242.84686279296875,242.65081787109375,242.86557006835938,242.66011047363281,239.86802673339844,238.271240234375,236.61839294433594,237.01055908203125,236.33822631835938,234.32119750976562,234.0130615234375,235.97406005859375,231.38902282714844,228.81169128417969,232.93914794921875,229.84043884277344,225.01393127441406,226.24404907226562,222.2156982421875,221.42692565917969,210.64715576171875,209.20108032226562,208.90061950683594,208.45927429199219,213.0322265625,212.38429260253906,218.38458251953125,223.61483764648438,222.98568725585938,224.34721374511719,220.96681213378906,223.59602355957031,221.71803283691406,225.60549926757812,226.84501647949219,228.1220703125,233.03305053710938,233.84059143066406,232.19732666015625,234.04718017578125,231.77476501464844,233.35232543945312,236.12239074707031,238.84550476074219,236.12239074707031,235.17396545410156,233.97206115722656,236.00032043457031,235.23030090332031,235.74676513671875,239.82205200195312,240.24464416503906,239.68118286132812,234.91107177734375,237.45579528808594,233.41806030273438,232.06587219238281,238.68586730957031,233.962646484375,231.59634399414062,230.87333679199219,238.80795288085938,233.73727416992188,235.48384094238281,232.39453125,230.69491577148438,229.52117919921875,229.29580688476562,230.09397888183594,229.15496826171875,226.8919677734375,216.95726013183594,215.03230285644531,219.64285278320312,223.48338317871094,229.60569763183594,229.12680053710938,232.95793151855469,236.50735473632812,236.82661437988281,234.07536315917969,235.10826110839844,234.50396728515625,234.23013305664062,235.0516357421875,231.90740966796875,228.64988708496094,224.13655090332031,225.16574096679688,225.43952941894531,225.57174682617188,222.0687255859375,221.30390930175781,226.22323608398438,229.49966430664062,229.99066162109375,234.06962585449219,233.24815368652344,229.28245544433594,233.91854858398438,233.10655212402344,238.84732055664062,238.21469116210938,237.43101501464844,238.82846069335938,239.1116943359375,239.14945983886719,237.44990539550781,238.57351684570312,238.50741577148438,240.78297424316406,238.33746337890625,242.18983459472656,240.37693786621094,239.32888793945312,239.81988525390625,236.41127014160156,242.74690246582031,244.44650268554688,248.76152038574219,248.67655944824219,249.48855590820312,246.48599243164062,247.46797180175781,246.098876953125,244.76753234863281,242.47311401367188,245.55120849609375,246.77871704101562,244.81474304199219,247.55290222167969,250.63108825683594,251.43368530273438,251.93411254882812,251.70747375488281,251.669677734375,248.27999877929688,246.00445556640625,246.30659484863281,247.91175842285156,242.61474609375,241.39669799804688,239.3477783203125,239.5091552734375,243.48704528808594,241.62625122070312,241.51234436035156,245.33834838867188,246.914306640625,246.38262939453125,247.18962097167969,241.45535278320312,242.77500915527344,240.63890075683594,242.00602722167969,243.99972534179688,242.47119140625,238.36990356445312,235.38887023925781,233.49955749511719,231.42045593261719,224.71783447265625,224.9456787109375,222.53427124023438,219.05953979492188,223.42668151855469,226.42672729492188,226.98686218261719,222.86653137207031,221.38551330566406,223.05641174316406,225.05014038085938,225.05960083007812,234.25909423828125,230.850830078125,234.00276184082031,236.57560729980469,238.05659484863281,237.126220703125,241.66426086425781,242.395263671875,242.78451538085938,243.61996459960938,251.68965148925781,260.62326049804688,258.85751342773438,259.13284301757812,256.68338012695312,259.13284301757812,260.71826171875,262.41763305664062,264.30685424804688,263.72781372070312,261.91448974609375,257.65182495117188,258.48724365234375,254.28144836425781,258.715087890625,259.52206420898438,259.53158569335938,260.62326049804688,260.85116577148438,259.43658447265625,261.0789794921875,259.06637573242188,257.6707763671875,260.439453125,261.02182006835938,261.02182006835938,259.29379272460938,259.465576171875,258.10037231445312,261.0123291015625,259.72344970703125,264.09609985351562,261.86199951171875,262.1007080078125,259.42745971679688,254.07144165039062,253.79457092285156,255.15028381347656,256.01907348632812,253.73731994628906,255.45582580566406,254.75886535644531,253.10716247558594,253.89004516601562,251.59869384765625,252.36244201660156,252.4197998046875,250.29074096679688,257.269775390625,255.15028381347656,256.735107421875,256.63967895507812,254.6156005859375,256.71603393554688,261.69973754882812,253.99508666992188,251.64646911621094,256.4200439453125,257.097900390625,257.355712890625,260.63992309570312,262.28207397460938,260.1243896484375,258.62545776367188,255.29347229003906,254.21466064453125,251.29318237304688,252.26701354980469,255.78997802734375,255.23622131347656,250.92088317871094,248.85868835449219,250.53898620605469,254.14784240722656,254.53924560546875,254.49151611328125,253.79457092285156,257.76626586914062,256.39141845703125,256.47735595703125,254.70155334472656,251.74189758300781,252.7921142578125,253.41630554199219,252.27359008789062,256.93075561523438,258.37109375,259.878662109375,256.50823974609375,254.77981567382812,251.22691345214844,251.61102294921875,252.6192626953125,255.32713317871094,255.7496337890625,259.81146240234375,256.57546997070312,259.97470092773438,259.46572875976562,257.21881103515625,258.89920043945312,260.54119873046875,262.951416015625,264.88156127929688,266.40829467773438,266.74441528320312,268.49197387695312,270.92138671875,271.05584716796875,270.80615234375,271.64157104492188,272.4962158203125,273.16836547851562,273.955810546875,277.57583618164062,277.48944091796875,277.8062744140625,279.34271240234375,279.68841552734375,279.4290771484375,280.44696044921875,281.5416259765625,279.91885375976562,278.23843383789062,283.00119018554688,283.99026489257812,285.7474365234375,286.21795654296875,283.4813232421875,283.42373657226562,284.80645751953125,284.89288330078125,284.86407470703125,284.77764892578125,283.06845092773438,284.36471557617188,284.13424682617188,282.45382690429688,281.791259765625,282.35781860351562,283.79818725585938,277.84469604492188,274.98321533203125,274.5511474609375,274.1669921875,274.66632080078125,273.5908203125,273.77328491210938,276.423583984375,279.86016845703125,278.43145751953125,274.67630004882812,272.12783813476562,275.87332153320312,276.84829711914062,278.56661987304688,278.54730224609375,278.44113159179688,282.466552734375,283.518798828125,282.88162231445312,284.310302734375,283.13265991210938,279.86016845703125,279.06857299804688,281.20193481445312,281.62664794921875,284.2620849609375,288.06549072265625,284.6192626953125,286.60784912109375,284.69647216796875,281.97421264648438,284.28134155273438,284.52273559570312,285.362548828125,284.986083984375,284.71575927734375,284.46478271484375,283.63461303710938,283.93386840820312,286.82986450195312,285.362548828125,285.072998046875,282.2252197265625,281.6363525390625,284.95709228515625,283.83734130859375,283.03610229492188,280.97994995117188,279.58023071289062,280.93167114257812,277.07034301757812,281.29849243164062,279.54153442382812,278.23843383789062,277.63021850585938,278.6148681640625,278.79824829101562,278.30596923828125,275.5064697265625,272.08917236328125,271.973388671875,270.33230590820312,270.59295654296875,272.09884643554688,272.56222534179688,274.71493530273438,273.84609985351562,273.75921630859375,274.38674926757812,272.86300659179688,272.65914916992188,270.931640625,267.3212890625,270.1260986328125,270.98989868164062,271.51397705078125,272.4359130859375,273.46469116210938,276.3665771484375,270.029052734375,269.5340576171875,269.9320068359375,269.0294189453125,263.22567749023438,264.19619750976562,261.828125,259.82888793945312,255.86911010742188,257.76162719726562,255.67498779296875,250.15269470214844,246.98880004882812,248.26988220214844,244.79541015625,240.90362548828125,242.55352783203125,244.10635375976562,243.52403259277344,238.93345642089844,240.990966796875,242.57292175292969,243.737548828125,248.48341369628906,250.76414489746094,250.50210571289062,247.24113464355469,249.68684387207031,250.4244384765625,248.289306640625,248.22135925292969,252.48197937011719,254.44244384765625,254.24830627441406,258.9844970703125,259.97442626953125,260.98373413085938,260.75088500976562,259.60562133789062,259.04269409179688,259.89675903320312,261.2652587890625,263.48770141601562,262.420166015625,267.98126220703125,267.62216186523438,270.80545043945312,272.20303344726562,273.61996459960938,274.2120361328125,273.53265380859375,273.77529907226562,272.11566162109375,275.17160034179688,279.19415283203125,279.36007690429688,279.76043701171875,280.07281494140625,280.00448608398438,278.77435302734375,282.30865478515625,284.52496337890625,288.92822265625,283.15805053710938,280.47314453125,283.36312866210938,283.85128784179688,282.1524658203125,284.49566650390625,284.79833984375,285.93084716796875,287.58090209960938,288.84039306640625,289.49453735351562],\"mode\":\"lines\",\"type\":\"scatter\",\"marker\":{\"color\":\"rgba(31,119,180,1)\",\"line\":{\"color\":\"rgba(31,119,180,1)\"}},\"error_y\":{\"color\":\"rgba(31,119,180,1)\"},\"error_x\":{\"color\":\"rgba(31,119,180,1)\"},\"line\":{\"color\":\"rgba(31,119,180,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n\nPlot of the daily closing price of the stock\n:::\n:::\n\n\n\n\n empty column to create gap \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\n# Generate time series plot using plot_ly\nplot_ly(stock_ts, x = ~dates, y = ~diff, type = 'scatter', mode = 'lines') %>%\n  layout(\n    xaxis = list(title = paste0(\"Dates (\", format(ymd(date_start), \"%d/%m/%Y\"), \" to \", format(ymd(date_end), \"%d/%m/%Y\"), \")\" ) ),\n    yaxis = list(title = \"Closing Price (US$)\"),\n    title = paste0(\"Difference of \", symbol, \" Daily Closing Price\")\n  )\n```\n\n::: {#fig-example-stock-difference-plot .cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-3e20898641d831133fef\" style=\"width:100%;height:396px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-3e20898641d831133fef\">{\"x\":{\"visdat\":{\"4a7c17735a69\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"4a7c17735a69\",\"attrs\":{\"4a7c17735a69\":{\"x\":{},\"y\":{},\"mode\":\"lines\",\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatter\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"Dates (01/07/2020 to 01/01/2024)\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"Closing Price (US$)\"},\"title\":\"Difference of MCD Daily Closing Price\",\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"x\":[\"2020-07-02\",\"2020-07-06\",\"2020-07-07\",\"2020-07-08\",\"2020-07-09\",\"2020-07-10\",\"2020-07-13\",\"2020-07-14\",\"2020-07-15\",\"2020-07-16\",\"2020-07-17\",\"2020-07-20\",\"2020-07-21\",\"2020-07-22\",\"2020-07-23\",\"2020-07-24\",\"2020-07-27\",\"2020-07-28\",\"2020-07-29\",\"2020-07-30\",\"2020-07-31\",\"2020-08-03\",\"2020-08-04\",\"2020-08-05\",\"2020-08-06\",\"2020-08-07\",\"2020-08-10\",\"2020-08-11\",\"2020-08-12\",\"2020-08-13\",\"2020-08-14\",\"2020-08-17\",\"2020-08-18\",\"2020-08-19\",\"2020-08-20\",\"2020-08-21\",\"2020-08-24\",\"2020-08-25\",\"2020-08-26\",\"2020-08-27\",\"2020-08-28\",\"2020-08-31\",\"2020-09-01\",\"2020-09-02\",\"2020-09-03\",\"2020-09-04\",\"2020-09-08\",\"2020-09-09\",\"2020-09-10\",\"2020-09-11\",\"2020-09-14\",\"2020-09-15\",\"2020-09-16\",\"2020-09-17\",\"2020-09-18\",\"2020-09-21\",\"2020-09-22\",\"2020-09-23\",\"2020-09-24\",\"2020-09-25\",\"2020-09-28\",\"2020-09-29\",\"2020-09-30\",\"2020-10-01\",\"2020-10-02\",\"2020-10-05\",\"2020-10-06\",\"2020-10-07\",\"2020-10-08\",\"2020-10-09\",\"2020-10-12\",\"2020-10-13\",\"2020-10-14\",\"2020-10-15\",\"2020-10-16\",\"2020-10-19\",\"2020-10-20\",\"2020-10-21\",\"2020-10-22\",\"2020-10-23\",\"2020-10-26\",\"2020-10-27\",\"2020-10-28\",\"2020-10-29\",\"2020-10-30\",\"2020-11-02\",\"2020-11-03\",\"2020-11-04\",\"2020-11-05\",\"2020-11-06\",\"2020-11-09\",\"2020-11-10\",\"2020-11-11\",\"2020-11-12\",\"2020-11-13\",\"2020-11-16\",\"2020-11-17\",\"2020-11-18\",\"2020-11-19\",\"2020-11-20\",\"2020-11-23\",\"2020-11-24\",\"2020-11-25\",\"2020-11-27\",\"2020-11-30\",\"2020-12-01\",\"2020-12-02\",\"2020-12-03\",\"2020-12-04\",\"2020-12-07\",\"2020-12-08\",\"2020-12-09\",\"2020-12-10\",\"2020-12-11\",\"2020-12-14\",\"2020-12-15\",\"2020-12-16\",\"2020-12-17\",\"2020-12-18\",\"2020-12-21\",\"2020-12-22\",\"2020-12-23\",\"2020-12-24\",\"2020-12-28\",\"2020-12-29\",\"2020-12-30\",\"2020-12-31\",\"2021-01-04\",\"2021-01-05\",\"2021-01-06\",\"2021-01-07\",\"2021-01-08\",\"2021-01-11\",\"2021-01-12\",\"2021-01-13\",\"2021-01-14\",\"2021-01-15\",\"2021-01-19\",\"2021-01-20\",\"2021-01-21\",\"2021-01-22\",\"2021-01-25\",\"2021-01-26\",\"2021-01-27\",\"2021-01-28\",\"2021-01-29\",\"2021-02-01\",\"2021-02-02\",\"2021-02-03\",\"2021-02-04\",\"2021-02-05\",\"2021-02-08\",\"2021-02-09\",\"2021-02-10\",\"2021-02-11\",\"2021-02-12\",\"2021-02-16\",\"2021-02-17\",\"2021-02-18\",\"2021-02-19\",\"2021-02-22\",\"2021-02-23\",\"2021-02-24\",\"2021-02-25\",\"2021-02-26\",\"2021-03-01\",\"2021-03-02\",\"2021-03-03\",\"2021-03-04\",\"2021-03-05\",\"2021-03-08\",\"2021-03-09\",\"2021-03-10\",\"2021-03-11\",\"2021-03-12\",\"2021-03-15\",\"2021-03-16\",\"2021-03-17\",\"2021-03-18\",\"2021-03-19\",\"2021-03-22\",\"2021-03-23\",\"2021-03-24\",\"2021-03-25\",\"2021-03-26\",\"2021-03-29\",\"2021-03-30\",\"2021-03-31\",\"2021-04-01\",\"2021-04-05\",\"2021-04-06\",\"2021-04-07\",\"2021-04-08\",\"2021-04-09\",\"2021-04-12\",\"2021-04-13\",\"2021-04-14\",\"2021-04-15\",\"2021-04-16\",\"2021-04-19\",\"2021-04-20\",\"2021-04-21\",\"2021-04-22\",\"2021-04-23\",\"2021-04-26\",\"2021-04-27\",\"2021-04-28\",\"2021-04-29\",\"2021-04-30\",\"2021-05-03\",\"2021-05-04\",\"2021-05-05\",\"2021-05-06\",\"2021-05-07\",\"2021-05-10\",\"2021-05-11\",\"2021-05-12\",\"2021-05-13\",\"2021-05-14\",\"2021-05-17\",\"2021-05-18\",\"2021-05-19\",\"2021-05-20\",\"2021-05-21\",\"2021-05-24\",\"2021-05-25\",\"2021-05-26\",\"2021-05-27\",\"2021-05-28\",\"2021-06-01\",\"2021-06-02\",\"2021-06-03\",\"2021-06-04\",\"2021-06-07\",\"2021-06-08\",\"2021-06-09\",\"2021-06-10\",\"2021-06-11\",\"2021-06-14\",\"2021-06-15\",\"2021-06-16\",\"2021-06-17\",\"2021-06-18\",\"2021-06-21\",\"2021-06-22\",\"2021-06-23\",\"2021-06-24\",\"2021-06-25\",\"2021-06-28\",\"2021-06-29\",\"2021-06-30\",\"2021-07-01\",\"2021-07-02\",\"2021-07-06\",\"2021-07-07\",\"2021-07-08\",\"2021-07-09\",\"2021-07-12\",\"2021-07-13\",\"2021-07-14\",\"2021-07-15\",\"2021-07-16\",\"2021-07-19\",\"2021-07-20\",\"2021-07-21\",\"2021-07-22\",\"2021-07-23\",\"2021-07-26\",\"2021-07-27\",\"2021-07-28\",\"2021-07-29\",\"2021-07-30\",\"2021-08-02\",\"2021-08-03\",\"2021-08-04\",\"2021-08-05\",\"2021-08-06\",\"2021-08-09\",\"2021-08-10\",\"2021-08-11\",\"2021-08-12\",\"2021-08-13\",\"2021-08-16\",\"2021-08-17\",\"2021-08-18\",\"2021-08-19\",\"2021-08-20\",\"2021-08-23\",\"2021-08-24\",\"2021-08-25\",\"2021-08-26\",\"2021-08-27\",\"2021-08-30\",\"2021-08-31\",\"2021-09-01\",\"2021-09-02\",\"2021-09-03\",\"2021-09-07\",\"2021-09-08\",\"2021-09-09\",\"2021-09-10\",\"2021-09-13\",\"2021-09-14\",\"2021-09-15\",\"2021-09-16\",\"2021-09-17\",\"2021-09-20\",\"2021-09-21\",\"2021-09-22\",\"2021-09-23\",\"2021-09-24\",\"2021-09-27\",\"2021-09-28\",\"2021-09-29\",\"2021-09-30\",\"2021-10-01\",\"2021-10-04\",\"2021-10-05\",\"2021-10-06\",\"2021-10-07\",\"2021-10-08\",\"2021-10-11\",\"2021-10-12\",\"2021-10-13\",\"2021-10-14\",\"2021-10-15\",\"2021-10-18\",\"2021-10-19\",\"2021-10-20\",\"2021-10-21\",\"2021-10-22\",\"2021-10-25\",\"2021-10-26\",\"2021-10-27\",\"2021-10-28\",\"2021-10-29\",\"2021-11-01\",\"2021-11-02\",\"2021-11-03\",\"2021-11-04\",\"2021-11-05\",\"2021-11-08\",\"2021-11-09\",\"2021-11-10\",\"2021-11-11\",\"2021-11-12\",\"2021-11-15\",\"2021-11-16\",\"2021-11-17\",\"2021-11-18\",\"2021-11-19\",\"2021-11-22\",\"2021-11-23\",\"2021-11-24\",\"2021-11-26\",\"2021-11-29\",\"2021-11-30\",\"2021-12-01\",\"2021-12-02\",\"2021-12-03\",\"2021-12-06\",\"2021-12-07\",\"2021-12-08\",\"2021-12-09\",\"2021-12-10\",\"2021-12-13\",\"2021-12-14\",\"2021-12-15\",\"2021-12-16\",\"2021-12-17\",\"2021-12-20\",\"2021-12-21\",\"2021-12-22\",\"2021-12-23\",\"2021-12-27\",\"2021-12-28\",\"2021-12-29\",\"2021-12-30\",\"2021-12-31\",\"2022-01-03\",\"2022-01-04\",\"2022-01-05\",\"2022-01-06\",\"2022-01-07\",\"2022-01-10\",\"2022-01-11\",\"2022-01-12\",\"2022-01-13\",\"2022-01-14\",\"2022-01-18\",\"2022-01-19\",\"2022-01-20\",\"2022-01-21\",\"2022-01-24\",\"2022-01-25\",\"2022-01-26\",\"2022-01-27\",\"2022-01-28\",\"2022-01-31\",\"2022-02-01\",\"2022-02-02\",\"2022-02-03\",\"2022-02-04\",\"2022-02-07\",\"2022-02-08\",\"2022-02-09\",\"2022-02-10\",\"2022-02-11\",\"2022-02-14\",\"2022-02-15\",\"2022-02-16\",\"2022-02-17\",\"2022-02-18\",\"2022-02-22\",\"2022-02-23\",\"2022-02-24\",\"2022-02-25\",\"2022-02-28\",\"2022-03-01\",\"2022-03-02\",\"2022-03-03\",\"2022-03-04\",\"2022-03-07\",\"2022-03-08\",\"2022-03-09\",\"2022-03-10\",\"2022-03-11\",\"2022-03-14\",\"2022-03-15\",\"2022-03-16\",\"2022-03-17\",\"2022-03-18\",\"2022-03-21\",\"2022-03-22\",\"2022-03-23\",\"2022-03-24\",\"2022-03-25\",\"2022-03-28\",\"2022-03-29\",\"2022-03-30\",\"2022-03-31\",\"2022-04-01\",\"2022-04-04\",\"2022-04-05\",\"2022-04-06\",\"2022-04-07\",\"2022-04-08\",\"2022-04-11\",\"2022-04-12\",\"2022-04-13\",\"2022-04-14\",\"2022-04-18\",\"2022-04-19\",\"2022-04-20\",\"2022-04-21\",\"2022-04-22\",\"2022-04-25\",\"2022-04-26\",\"2022-04-27\",\"2022-04-28\",\"2022-04-29\",\"2022-05-02\",\"2022-05-03\",\"2022-05-04\",\"2022-05-05\",\"2022-05-06\",\"2022-05-09\",\"2022-05-10\",\"2022-05-11\",\"2022-05-12\",\"2022-05-13\",\"2022-05-16\",\"2022-05-17\",\"2022-05-18\",\"2022-05-19\",\"2022-05-20\",\"2022-05-23\",\"2022-05-24\",\"2022-05-25\",\"2022-05-26\",\"2022-05-27\",\"2022-05-31\",\"2022-06-01\",\"2022-06-02\",\"2022-06-03\",\"2022-06-06\",\"2022-06-07\",\"2022-06-08\",\"2022-06-09\",\"2022-06-10\",\"2022-06-13\",\"2022-06-14\",\"2022-06-15\",\"2022-06-16\",\"2022-06-17\",\"2022-06-21\",\"2022-06-22\",\"2022-06-23\",\"2022-06-24\",\"2022-06-27\",\"2022-06-28\",\"2022-06-29\",\"2022-06-30\",\"2022-07-01\",\"2022-07-05\",\"2022-07-06\",\"2022-07-07\",\"2022-07-08\",\"2022-07-11\",\"2022-07-12\",\"2022-07-13\",\"2022-07-14\",\"2022-07-15\",\"2022-07-18\",\"2022-07-19\",\"2022-07-20\",\"2022-07-21\",\"2022-07-22\",\"2022-07-25\",\"2022-07-26\",\"2022-07-27\",\"2022-07-28\",\"2022-07-29\",\"2022-08-01\",\"2022-08-02\",\"2022-08-03\",\"2022-08-04\",\"2022-08-05\",\"2022-08-08\",\"2022-08-09\",\"2022-08-10\",\"2022-08-11\",\"2022-08-12\",\"2022-08-15\",\"2022-08-16\",\"2022-08-17\",\"2022-08-18\",\"2022-08-19\",\"2022-08-22\",\"2022-08-23\",\"2022-08-24\",\"2022-08-25\",\"2022-08-26\",\"2022-08-29\",\"2022-08-30\",\"2022-08-31\",\"2022-09-01\",\"2022-09-02\",\"2022-09-06\",\"2022-09-07\",\"2022-09-08\",\"2022-09-09\",\"2022-09-12\",\"2022-09-13\",\"2022-09-14\",\"2022-09-15\",\"2022-09-16\",\"2022-09-19\",\"2022-09-20\",\"2022-09-21\",\"2022-09-22\",\"2022-09-23\",\"2022-09-26\",\"2022-09-27\",\"2022-09-28\",\"2022-09-29\",\"2022-09-30\",\"2022-10-03\",\"2022-10-04\",\"2022-10-05\",\"2022-10-06\",\"2022-10-07\",\"2022-10-10\",\"2022-10-11\",\"2022-10-12\",\"2022-10-13\",\"2022-10-14\",\"2022-10-17\",\"2022-10-18\",\"2022-10-19\",\"2022-10-20\",\"2022-10-21\",\"2022-10-24\",\"2022-10-25\",\"2022-10-26\",\"2022-10-27\",\"2022-10-28\",\"2022-10-31\",\"2022-11-01\",\"2022-11-02\",\"2022-11-03\",\"2022-11-04\",\"2022-11-07\",\"2022-11-08\",\"2022-11-09\",\"2022-11-10\",\"2022-11-11\",\"2022-11-14\",\"2022-11-15\",\"2022-11-16\",\"2022-11-17\",\"2022-11-18\",\"2022-11-21\",\"2022-11-22\",\"2022-11-23\",\"2022-11-25\",\"2022-11-28\",\"2022-11-29\",\"2022-11-30\",\"2022-12-01\",\"2022-12-02\",\"2022-12-05\",\"2022-12-06\",\"2022-12-07\",\"2022-12-08\",\"2022-12-09\",\"2022-12-12\",\"2022-12-13\",\"2022-12-14\",\"2022-12-15\",\"2022-12-16\",\"2022-12-19\",\"2022-12-20\",\"2022-12-21\",\"2022-12-22\",\"2022-12-23\",\"2022-12-27\",\"2022-12-28\",\"2022-12-29\",\"2022-12-30\",\"2023-01-03\",\"2023-01-04\",\"2023-01-05\",\"2023-01-06\",\"2023-01-09\",\"2023-01-10\",\"2023-01-11\",\"2023-01-12\",\"2023-01-13\",\"2023-01-17\",\"2023-01-18\",\"2023-01-19\",\"2023-01-20\",\"2023-01-23\",\"2023-01-24\",\"2023-01-25\",\"2023-01-26\",\"2023-01-27\",\"2023-01-30\",\"2023-01-31\",\"2023-02-01\",\"2023-02-02\",\"2023-02-03\",\"2023-02-06\",\"2023-02-07\",\"2023-02-08\",\"2023-02-09\",\"2023-02-10\",\"2023-02-13\",\"2023-02-14\",\"2023-02-15\",\"2023-02-16\",\"2023-02-17\",\"2023-02-21\",\"2023-02-22\",\"2023-02-23\",\"2023-02-24\",\"2023-02-27\",\"2023-02-28\",\"2023-03-01\",\"2023-03-02\",\"2023-03-03\",\"2023-03-06\",\"2023-03-07\",\"2023-03-08\",\"2023-03-09\",\"2023-03-10\",\"2023-03-13\",\"2023-03-14\",\"2023-03-15\",\"2023-03-16\",\"2023-03-17\",\"2023-03-20\",\"2023-03-21\",\"2023-03-22\",\"2023-03-23\",\"2023-03-24\",\"2023-03-27\",\"2023-03-28\",\"2023-03-29\",\"2023-03-30\",\"2023-03-31\",\"2023-04-03\",\"2023-04-04\",\"2023-04-05\",\"2023-04-06\",\"2023-04-10\",\"2023-04-11\",\"2023-04-12\",\"2023-04-13\",\"2023-04-14\",\"2023-04-17\",\"2023-04-18\",\"2023-04-19\",\"2023-04-20\",\"2023-04-21\",\"2023-04-24\",\"2023-04-25\",\"2023-04-26\",\"2023-04-27\",\"2023-04-28\",\"2023-05-01\",\"2023-05-02\",\"2023-05-03\",\"2023-05-04\",\"2023-05-05\",\"2023-05-08\",\"2023-05-09\",\"2023-05-10\",\"2023-05-11\",\"2023-05-12\",\"2023-05-15\",\"2023-05-16\",\"2023-05-17\",\"2023-05-18\",\"2023-05-19\",\"2023-05-22\",\"2023-05-23\",\"2023-05-24\",\"2023-05-25\",\"2023-05-26\",\"2023-05-30\",\"2023-05-31\",\"2023-06-01\",\"2023-06-02\",\"2023-06-05\",\"2023-06-06\",\"2023-06-07\",\"2023-06-08\",\"2023-06-09\",\"2023-06-12\",\"2023-06-13\",\"2023-06-14\",\"2023-06-15\",\"2023-06-16\",\"2023-06-20\",\"2023-06-21\",\"2023-06-22\",\"2023-06-23\",\"2023-06-26\",\"2023-06-27\",\"2023-06-28\",\"2023-06-29\",\"2023-06-30\",\"2023-07-03\",\"2023-07-05\",\"2023-07-06\",\"2023-07-07\",\"2023-07-10\",\"2023-07-11\",\"2023-07-12\",\"2023-07-13\",\"2023-07-14\",\"2023-07-17\",\"2023-07-18\",\"2023-07-19\",\"2023-07-20\",\"2023-07-21\",\"2023-07-24\",\"2023-07-25\",\"2023-07-26\",\"2023-07-27\",\"2023-07-28\",\"2023-07-31\",\"2023-08-01\",\"2023-08-02\",\"2023-08-03\",\"2023-08-04\",\"2023-08-07\",\"2023-08-08\",\"2023-08-09\",\"2023-08-10\",\"2023-08-11\",\"2023-08-14\",\"2023-08-15\",\"2023-08-16\",\"2023-08-17\",\"2023-08-18\",\"2023-08-21\",\"2023-08-22\",\"2023-08-23\",\"2023-08-24\",\"2023-08-25\",\"2023-08-28\",\"2023-08-29\",\"2023-08-30\",\"2023-08-31\",\"2023-09-01\",\"2023-09-05\",\"2023-09-06\",\"2023-09-07\",\"2023-09-08\",\"2023-09-11\",\"2023-09-12\",\"2023-09-13\",\"2023-09-14\",\"2023-09-15\",\"2023-09-18\",\"2023-09-19\",\"2023-09-20\",\"2023-09-21\",\"2023-09-22\",\"2023-09-25\",\"2023-09-26\",\"2023-09-27\",\"2023-09-28\",\"2023-09-29\",\"2023-10-02\",\"2023-10-03\",\"2023-10-04\",\"2023-10-05\",\"2023-10-06\",\"2023-10-09\",\"2023-10-10\",\"2023-10-11\",\"2023-10-12\",\"2023-10-13\",\"2023-10-16\",\"2023-10-17\",\"2023-10-18\",\"2023-10-19\",\"2023-10-20\",\"2023-10-23\",\"2023-10-24\",\"2023-10-25\",\"2023-10-26\",\"2023-10-27\",\"2023-10-30\",\"2023-10-31\",\"2023-11-01\",\"2023-11-02\",\"2023-11-03\",\"2023-11-06\",\"2023-11-07\",\"2023-11-08\",\"2023-11-09\",\"2023-11-10\",\"2023-11-13\",\"2023-11-14\",\"2023-11-15\",\"2023-11-16\",\"2023-11-17\",\"2023-11-20\",\"2023-11-21\",\"2023-11-22\",\"2023-11-24\",\"2023-11-27\",\"2023-11-28\",\"2023-11-29\",\"2023-11-30\",\"2023-12-01\",\"2023-12-04\",\"2023-12-05\",\"2023-12-06\",\"2023-12-07\",\"2023-12-08\",\"2023-12-11\",\"2023-12-12\",\"2023-12-13\",\"2023-12-14\",\"2023-12-15\",\"2023-12-18\",\"2023-12-19\",\"2023-12-20\",\"2023-12-21\",\"2023-12-22\",\"2023-12-26\",\"2023-12-27\",\"2023-12-28\",\"2023-12-29\"],\"y\":[-1.0285491943359375,4.4931182861328125,-2.417999267578125,0.0270843505859375,-1.371429443359375,0.496246337890625,0.0360870361328125,5.23297119140625,0.947357177734375,-0.76690673828125,0.5052490234375,0.1172943115234375,1.2360687255859375,5.0886077880859375,-0.965362548828125,1.05560302734375,2.2826690673828125,-4.520233154296875,-0.02703857421875,-0.7218017578125,-1.01953125,0.108245849609375,4.4751434326171875,-0.0902862548828125,3.53680419921875,1.281158447265625,-0.4330596923828125,0.7939605712890625,0.9203033447265625,0.4240570068359375,0.487152099609375,1.4797210693359375,1.488677978515625,-0.7308349609375,0.3338623046875,1.5247650146484375,0.947357177734375,0.02703857421875,1.001495361328125,-1.41650390625,2.454071044921875,-0.1270294189453125,-0.7532501220703125,3.212646484375,-2.205322265625,-1.878509521484375,1.67889404296875,1.9330291748046875,1.3884429931640625,0.6897430419921875,2.3231964111328125,1.642608642578125,2.21435546875,-2.02374267578125,-2.096343994140625,-3.5030517578125,0,-1.3068084716796875,1.04364013671875,1.8694915771484375,1.8876190185546875,-1.43389892578125,0.7351226806640625,0.0907440185546875,2.795166015625,3.0855255126953125,-1.796875,2.1689453125,-0.6170806884765625,-0.8802947998046875,1.1616058349609375,1.1253204345703125,0.245025634765625,1.8332061767578125,-0.2450408935546875,-3.058319091796875,1.3158416748046875,0.6716156005859375,0.8712005615234375,-0.3993072509765625,-4.02935791015625,-1.1798095703125,-7.514190673828125,0.2359466552734375,-1.7696380615234375,-0.3993377685546875,3.8478851318359375,-1.751495361328125,1.3068084716796875,0.2269134521484375,-3.0311126708984375,0.090728759765625,4.265289306640625,-4.492156982421875,0.190582275390625,3.13092041015625,-0.653411865234375,-0.444671630859375,-0.372100830078125,-0.925628662109375,2.64080810546875,2.4593963623046875,-0.3358001708984375,-0.9165496826171875,0.365142822265625,-1.186798095703125,-4.82012939453125,0.593353271484375,-0.7028961181640625,-1.68890380859375,-0.4564666748046875,0.2739105224609375,-0.59344482421875,-0.255584716796875,3.797698974609375,2.683929443359375,-0.967681884765625,0.41082763671875,0.7577362060546875,-3.1130523681640625,0.228240966796875,0.09130859375,-0.5751953125,2.4010009765625,-1.1959075927734375,-1.0498504638671875,2.7569732666015625,-3.980255126953125,1.150238037109375,-0.4381866455078125,0.8946533203125,3.5511932373046875,-1.4971466064453125,-2.4009246826171875,0.4472808837890625,-3.2773590087890625,1.2872772216796875,-0.7486114501953125,4.14459228515625,-0.0912933349609375,-0.1369171142578125,-0.0365753173828125,1.86236572265625,-7.650146484375,-0.1643524169921875,0.93115234375,0.0821533203125,1.670654296875,-0.9585418701171875,2.117889404296875,1.4150390625,-0.9129180908203125,4.0167999267578125,-1.442352294921875,-0.11871337890625,-0.3377685546875,1.0316009521484375,-1.4424285888671875,1.8076019287109375,-2.912200927734375,-0.1643524169921875,-0.675506591796875,1.780181884765625,-2.11798095703125,-3.233184814453125,1.9380645751953125,0.3857879638671875,-2.6177825927734375,-0.900177001953125,2.3238525390625,1.5982513427734375,-0.514373779296875,4.3722076416015625,-1.5982666015625,0.707244873046875,7.4584808349609375,-0.5511322021484375,3.9037322998046875,-1.111419677734375,-0.422515869140625,2.4157257080078125,-0.6429290771484375,-0.293975830078125,0.1378173828125,0.92767333984375,1.9656524658203125,-2.1769256591796875,-0.7715301513671875,0.9828033447265625,3.3434295654296875,2.8106842041015625,0.642974853515625,-2.167694091796875,1.1297607421875,-0.47760009765625,0.3306427001953125,-0.9277191162109375,0.8909759521484375,1.653350830078125,-1.166534423828125,1.1022186279296875,-0.6888885498046875,0.6429901123046875,1.4880218505859375,-2.0850677490234375,2.45245361328125,-2.360595703125,2.5718994140625,0.7990570068359375,-0.4775848388671875,-1.561492919921875,1.083831787109375,-0.16534423828125,-0.01837158203125,2.0850830078125,-2.985198974609375,-5.437713623046875,1.680908203125,1.7911529541015625,-0.0367584228515625,0.2296142578125,-1.63494873046875,1.8645782470703125,-0.8634033203125,0.6154022216796875,0.2113189697265625,0.1928558349609375,2.30548095703125,0.2955474853515625,-0.600311279296875,0.4987030029296875,-1.2283477783203125,0.858917236328125,-1.56085205078125,0.877410888671875,-1.080596923828125,2.8816070556640625,2.1612091064453125,0.0461578369140625,-0.581817626953125,-0.711181640625,-1.57012939453125,-3.9345245361328125,3.029388427734375,0.9051361083984375,-0.5910797119140625,0.0831146240234375,-0.840484619140625,-1.2284088134765625,-0.6649627685546875,0.5726318359375,1.18218994140625,1.256134033203125,-0.812774658203125,1.736358642578125,-1.653228759765625,2.62298583984375,-0.06463623046875,0.5172119140625,0.8866729736328125,-0.23089599609375,-1.96728515625,-5.0705718994140625,4.62725830078125,1.5331573486328125,2.5306854248046875,3.962249755859375,0.9420166015625,2.18896484375,-4.2208404541015625,2.06884765625,-1.2099151611328125,-2.4105682373046875,-2.90936279296875,-1.9580535888671875,1.4685516357421875,-0.14776611328125,-1.4593353271484375,-1.1360015869140625,1.9395599365234375,1.0344696044921875,1.9857330322265625,1.9857177734375,-0.6372833251953125,-2.03192138671875,-0.78509521484375,1.1637725830078125,1.080596923828125,-1.1360321044921875,0.36944580078125,-1.736358642578125,0.489532470703125,-0.8220367431640625,2.00592041015625,0.6407623291015625,1.5972900390625,-0.9750518798828125,-2.44244384765625,2.256683349609375,-0.0092926025390625,0.529327392578125,1.885223388671875,-0.074310302734375,-0.1392822265625,2.0709075927734375,-0.66864013671875,-3.1574554443359375,1.3094024658203125,2.4423980712890625,1.5323028564453125,1.522979736328125,1.569488525390625,-4.030426025390625,0.4736175537109375,-2.943878173828125,1.690185546875,0.139312744140625,1.9873046875,1.7458953857421875,1.1329803466796875,-0.5758056640625,-1.0400543212890625,-1.913055419921875,-1.736602783203125,1.76446533203125,-2.1359405517578125,0.0092620849609375,0.473663330078125,-2.8324432373046875,1.560150146484375,-2.748809814453125,-1.021575927734375,-0.8543243408203125,5.85980224609375,2.5724334716796875,0.0464324951171875,4.671173095703125,-1.244384765625,1.0772247314453125,2.8416900634765625,1.160858154296875,-1.4951629638671875,-0.41790771484375,0.445770263671875,-2.7581329345703125,0.4736175537109375,2.108062744140625,-0.4457244873046875,0.21356201171875,0.7336578369140625,-1.4208831787109375,1.4208831787109375,2.0151824951171875,1.3558349609375,-6.5934906005859375,0.2693023681640625,-4.0340576171875,-0.3921966552734375,4.314208984375,0.49493408203125,6.0323944091796875,3.8473052978515625,-0.3081207275390625,2.5772857666015625,2.455963134765625,-1.7555999755859375,-0.5322723388671875,1.8676300048828125,0.9617919921875,-3.5951690673828125,0.028076171875,2.4839019775390625,0.5135498046875,0.9431915283203125,2.1384429931640625,-0.336212158203125,0.5695953369140625,-1.1952362060546875,0.8031005859375,0.4761962890625,-0.0653076171875,-1.232635498046875,2.33453369140625,-2.455963134765625,-2.474609375,-2.1384124755859375,-1.12054443359375,0.457550048828125,-3.4551544189453125,-1.1485595703125,-1.1765594482421875,-1.95166015625,1.363372802734375,-0.9151611328125,-2.736083984375,-0.7750396728515625,-1.0365142822265625,6.86346435546875,3.13763427734375,-0.4295654296875,3.0722808837890625,-1.5314788818359375,-0.541656494140625,-0.196044921875,0.214752197265625,-0.2054595947265625,-2.792083740234375,-1.5967864990234375,-1.6528472900390625,0.3921661376953125,-0.672332763671875,-2.01702880859375,-0.308135986328125,1.96099853515625,-4.5850372314453125,-2.57733154296875,4.1274566650390625,-3.0987091064453125,-4.826507568359375,1.2301177978515625,-4.028350830078125,-0.7887725830078125,-10.779769897460938,-1.446075439453125,-0.3004608154296875,-0.44134521484375,4.5729522705078125,-0.6479339599609375,6.0002899169921875,5.230255126953125,-0.629150390625,1.3615264892578125,-3.380401611328125,2.62921142578125,-1.87799072265625,3.8874664306640625,1.2395172119140625,1.2770538330078125,4.910980224609375,0.8075408935546875,-1.6432647705078125,1.849853515625,-2.2724151611328125,1.5775604248046875,2.7700653076171875,2.723114013671875,-2.723114013671875,-0.94842529296875,-1.201904296875,2.02825927734375,-0.77001953125,0.5164642333984375,4.075286865234375,0.4225921630859375,-0.5634613037109375,-4.770111083984375,2.5447235107421875,-4.0377349853515625,-1.3521881103515625,6.6199951171875,-4.7232208251953125,-2.366302490234375,-0.7230072021484375,7.9346160888671875,-5.0706787109375,1.7465667724609375,-3.0893096923828125,-1.699615478515625,-1.173736572265625,-0.225372314453125,0.7981719970703125,-0.9390106201171875,-2.26300048828125,-9.9347076416015625,-1.924957275390625,4.6105499267578125,3.8405303955078125,6.122314453125,-0.4788970947265625,3.8311309814453125,3.5494232177734375,0.3192596435546875,-2.751251220703125,1.03289794921875,-0.6042938232421875,-0.273834228515625,0.821502685546875,-3.14422607421875,-3.2575225830078125,-4.513336181640625,1.0291900634765625,0.2737884521484375,0.1322174072265625,-3.503021240234375,-0.7648162841796875,4.9193267822265625,3.27642822265625,0.490997314453125,4.0789642333984375,-0.82147216796875,-3.9656982421875,4.6360931396484375,-0.8119964599609375,5.7407684326171875,-0.63262939453125,-0.7836761474609375,1.3974456787109375,0.283233642578125,0.0377655029296875,-1.699554443359375,1.1236114501953125,-0.06610107421875,2.2755584716796875,-2.4455108642578125,3.8523712158203125,-1.812896728515625,-1.0480499267578125,0.490997314453125,-3.4086151123046875,6.33563232421875,1.6996002197265625,4.3150177001953125,-0.0849609375,0.8119964599609375,-3.0025634765625,0.9819793701171875,-1.3690948486328125,-1.3313446044921875,-2.2944183349609375,3.078094482421875,1.227508544921875,-1.9639739990234375,2.7381591796875,3.07818603515625,0.8025970458984375,0.50042724609375,-0.2266387939453125,-0.0377960205078125,-3.389678955078125,-2.275543212890625,0.3021392822265625,1.60516357421875,-5.2970123291015625,-1.218048095703125,-2.048919677734375,0.161376953125,3.9778900146484375,-1.8607940673828125,-0.1139068603515625,3.8260040283203125,1.575958251953125,-0.53167724609375,0.8069915771484375,-5.7342681884765625,1.3196563720703125,-2.1361083984375,1.36712646484375,1.9936981201171875,-1.528533935546875,-4.101287841796875,-2.9810333251953125,-1.889312744140625,-2.0791015625,-6.7026214599609375,0.22784423828125,-2.411407470703125,-3.4747314453125,4.3671417236328125,3.0000457763671875,0.5601348876953125,-4.120330810546875,-1.48101806640625,1.6708984375,1.9937286376953125,0.00946044921875,9.199493408203125,-3.40826416015625,3.1519317626953125,2.572845458984375,1.480987548828125,-0.9303741455078125,4.5380401611328125,0.7310028076171875,0.389251708984375,0.83544921875,8.0696868896484375,8.9336090087890625,-1.7657470703125,0.27532958984375,-2.449462890625,2.449462890625,1.585418701171875,1.699371337890625,1.88922119140625,-0.57904052734375,-1.813323974609375,-4.262664794921875,0.835418701171875,-4.2057952880859375,4.4336395263671875,0.806976318359375,0.009521484375,1.0916748046875,0.2279052734375,-1.414581298828125,1.64239501953125,-2.012603759765625,-1.395599365234375,2.7686767578125,0.582366943359375,0,-1.72802734375,0.171783447265625,-1.365203857421875,2.911956787109375,-1.28887939453125,4.372650146484375,-2.234100341796875,0.23870849609375,-2.673248291015625,-5.35601806640625,-0.2768707275390625,1.355712890625,0.8687896728515625,-2.2817535400390625,1.718505859375,-0.69696044921875,-1.651702880859375,0.7828826904296875,-2.291351318359375,0.7637481689453125,0.0573577880859375,-2.129058837890625,6.979034423828125,-2.1194915771484375,1.5848236083984375,-0.095428466796875,-2.024078369140625,2.100433349609375,4.98370361328125,-7.70465087890625,-2.3486175537109375,4.7735748291015625,0.6778564453125,0.2578125,3.284210205078125,1.64215087890625,-2.157684326171875,-1.498931884765625,-3.3319854736328125,-1.0788116455078125,-2.921478271484375,0.9738311767578125,3.5229644775390625,-0.5537567138671875,-4.315338134765625,-2.06219482421875,1.6802978515625,3.608856201171875,0.3914031982421875,-0.0477294921875,-0.6969451904296875,3.9716949462890625,-1.374847412109375,0.0859375,-1.7758026123046875,-2.95965576171875,1.0502166748046875,0.6241912841796875,-1.1427154541015625,4.65716552734375,1.440338134765625,1.507568359375,-3.37042236328125,-1.728424072265625,-3.5529022216796875,0.3841094970703125,1.00823974609375,2.7078704833984375,0.4225006103515625,4.06182861328125,-3.235992431640625,3.39923095703125,-0.50897216796875,-2.246917724609375,1.680389404296875,1.641998291015625,2.41021728515625,1.930145263671875,1.5267333984375,0.33612060546875,1.74755859375,2.429412841796875,0.13446044921875,-0.24969482421875,0.835418701171875,0.854644775390625,0.672149658203125,0.787445068359375,3.620025634765625,-0.086395263671875,0.31683349609375,1.53643798828125,0.345703125,-0.25933837890625,1.01788330078125,1.09466552734375,-1.622772216796875,-1.680419921875,4.76275634765625,0.98907470703125,1.757171630859375,0.47052001953125,-2.73663330078125,-0.057586669921875,1.382720947265625,0.08642578125,-0.02880859375,-0.08642578125,-1.709197998046875,1.2962646484375,-0.23046875,-1.680419921875,-0.662567138671875,0.566558837890625,1.44036865234375,-5.9534912109375,-2.861480712890625,-0.43206787109375,-0.3841552734375,0.49932861328125,-1.07550048828125,0.182464599609375,2.650299072265625,3.43658447265625,-1.4287109375,-3.755157470703125,-2.5484619140625,3.7454833984375,0.9749755859375,1.71832275390625,-0.019317626953125,-0.106170654296875,4.025421142578125,1.05224609375,-0.637176513671875,1.428680419921875,-1.177642822265625,-3.272491455078125,-0.791595458984375,2.13336181640625,0.424713134765625,2.63543701171875,3.80340576171875,-3.44622802734375,1.98858642578125,-1.911376953125,-2.722259521484375,2.30712890625,0.24139404296875,0.839813232421875,-0.37646484375,-0.27032470703125,-0.2509765625,-0.830169677734375,0.29925537109375,2.89599609375,-1.467315673828125,-0.28955078125,-2.8477783203125,-0.5888671875,3.32073974609375,-1.1197509765625,-0.801239013671875,-2.05615234375,-1.39971923828125,1.3514404296875,-3.861328125,4.2281494140625,-1.7569580078125,-1.3031005859375,-0.60821533203125,0.984649658203125,0.183380126953125,-0.492279052734375,-2.79949951171875,-3.41729736328125,-0.11578369140625,-1.641082763671875,0.260650634765625,1.505889892578125,0.46337890625,2.1527099609375,-0.86883544921875,-0.086883544921875,0.627532958984375,-1.52374267578125,-0.203857421875,-1.727508544921875,-3.6103515625,2.8048095703125,0.863800048828125,0.524078369140625,0.92193603515625,1.028778076171875,2.901885986328125,-6.3375244140625,-0.4949951171875,0.39794921875,-0.902587890625,-5.803741455078125,0.97052001953125,-2.368072509765625,-1.999237060546875,-3.95977783203125,1.89251708984375,-2.086639404296875,-5.5222930908203125,-3.1638946533203125,1.2810821533203125,-3.4744720458984375,-3.89178466796875,1.64990234375,1.552825927734375,-0.5823211669921875,-4.590576171875,2.0575103759765625,1.5819549560546875,1.1646270751953125,4.7458648681640625,2.280731201171875,-0.2620391845703125,-3.2609710693359375,2.445709228515625,0.7375946044921875,-2.1351318359375,-0.0679473876953125,4.2606201171875,1.9604644775390625,-0.1941375732421875,4.7361907958984375,0.98992919921875,1.009307861328125,-0.23284912109375,-1.145263671875,-0.56292724609375,0.85406494140625,1.368499755859375,2.222442626953125,-1.067535400390625,5.56109619140625,-0.359100341796875,3.18328857421875,1.3975830078125,1.41693115234375,0.592071533203125,-0.67938232421875,0.242645263671875,-1.659637451171875,3.055938720703125,4.022552490234375,0.165924072265625,0.400360107421875,0.3123779296875,-0.068328857421875,-1.230133056640625,3.5343017578125,2.21630859375,4.40325927734375,-5.770172119140625,-2.684906005859375,2.889984130859375,0.4881591796875,-1.698822021484375,2.34320068359375,0.30267333984375,1.13250732421875,1.650054931640625,1.259490966796875,0.654144287109375],\"mode\":\"lines\",\"type\":\"scatter\",\"marker\":{\"color\":\"rgba(31,119,180,1)\",\"line\":{\"color\":\"rgba(31,119,180,1)\"}},\"error_y\":{\"color\":\"rgba(31,119,180,1)\"},\"error_x\":{\"color\":\"rgba(31,119,180,1)\"},\"line\":{\"color\":\"rgba(31,119,180,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n\nPlot of the stock price differences\n:::\n:::\n\n\n\n\n End of two columns \n\n@fig-example-stock-correlogram is the correlogram for the original McDonald's stock price time series.\n@fig-example-diff-correlogram gives the correlogram for the differences in successive closing stock prices.\n\n Beginning of two columns \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nacf(stock_ts$value, plot=TRUE, type = \"correlation\", lag.max = 25)\n```\n\n::: {.cell-output-display}\n![Correlogram of the stock prices](chapter_4_lesson_2_files/figure-html/fig-example-stock-correlogram-1.png){#fig-example-stock-correlogram width=672}\n:::\n:::\n\n\n\n\n\n empty column to create gap \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nacf(stock_ts$diff |> na.omit(), plot=TRUE, type = \"correlation\", lag.max = 25)\n```\n\n::: {.cell-output-display}\n![Correlogram of the stock prices](chapter_4_lesson_2_files/figure-html/fig-example-diff-correlogram-1.png){#fig-example-diff-correlogram width=672}\n:::\n:::\n\n\n\n End of two columns \n\n@fig-example-stock-difference-histogram is a histogram of the differences.\nOn the right, we give the variance of the differences in the stock prices. This is a simple measure of the volatility of the stock, or in other words, how much the price changes in a day.\n\n Beginning of two columns \n\n\n Nothing in column 1 \n\n\n empty column to create gap \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\n# Histogram of differences in stock prices\nstock_ts |>\n  mutate(\n    density = dnorm(diff, mean(stock_ts$diff, na.rm = TRUE), sd(stock_ts$diff, na.rm = TRUE))\n  ) |>\n  ggplot(aes(x = diff)) +\n    geom_histogram(aes(y = after_stat(density)),\n        color = \"white\", fill = \"#56B4E9\", binwidth = 1) +\n    geom_line(aes(x = diff, y = density)) +\n    theme_bw() +\n    labs(\n      x = \"Difference\",\n      y = \"Frequency\",\n      title = \"Histogram of Difference in the Closing Stock Prices\"\n    ) +\n    theme(\n      plot.title = element_text(hjust = 0.5)\n    )\n```\n\n::: {.cell-output-display}\n![Histogram of the stock price differences](chapter_4_lesson_2_files/figure-html/fig-example-stock-difference-histogram-1.png){#fig-example-stock-difference-histogram width=672}\n:::\n:::\n\n\n\nThe variance of the differences is 5.783.\n\n\n End of two columns \n\n\n\n\nNotice that the values in the correlogram of the stock prices start at 1 and slowly decay as $k$ increases. There are no significant autocorrelations in the differenced values. This is exactly what we would expect from a random walk. It is also interesting that the differences are nearly normally distributed and uncorrelated.\n\n\n### Defintion of the Difference Operator\n\n<a id=\"#DifferenceOperator\">Differencing</a> nonstationary time series often leads to a stationary series, so we will define a formal operator to express this process.\n\n\nThe **difference operator**, $\\nabla$, is defined as:\n\n$$\\nabla x_t = x_t - x_{t-1} = (1-\\mathbf{B}) x_t$$\n\nHigher-order differencing can be denoted\n\n$$\\nabla^n x_t = (1-\\mathbf{B})^n x_t$$\n\n\nTo see what this expression gives us, note that $\\nabla$ gives a new time series that is comprised of the differences between successive terms of the original time series. The operator $\\nabla^2$ generates a time series that is comprised of the differences between successive terms of the *differenced* time series. It is the difference of the differences, or the second difference.\n\n Check Your Understanding \n\n\n\n<a href=\"https://github.com/TBrost/BYUI-Timeseries-Drafts/raw/master/handouts/chapter_4_2_handout.xlsx\" download=\"chapter_4_2_handout.xlsx\"> Tables-Handout-Excel </a>\n\nConsider the following time series, where $n=8$:\n\n<center>\n\n\n\n```{.r .cell-code}\ncat( paste( paste0(\"$x_{\", d_operator$t, \"} = \", d_operator$x, \"$\"), collapse = \",$~$ \" ) ) \n```\n\n$x_{1} = 5$,$~$ $x_{2} = 10$,$~$ $x_{3} = 13$,$~$ $x_{4} = 8$,$~$ $x_{5} = 4$,$~$ $x_{6} = 3$,$~$ $x_{7} = 9$,$~$ $x_{8} = 2$\n\n\n</center>\n\n\n Beginning of two columns \n\n\n-   Find the first differences, $\\nabla x_t$\n-   Find the second differences, $\\nabla^2 x_t$.\n-   Fill in the missing steps:\n\\begin{align*}\n\\nabla^2 x_8 &= (1-\\mathbf{B} )^2 x_8 \\\\\n  &= (1-\\mathbf{B} ) \\left[ (1-\\mathbf{B} ) x_8 \\right] \\\\\n  &  ~~~~~~~~~~~~~~~~~~~~~~  \\\\\n  &= (x_8-x_7)-(x_7-x_6)\n\\end{align*}\nand check that this is equal to the last term in the sequence of second differences.\n\n\n empty column to create gap \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nd_operator |>\n  dplyr::select(-diff) |>\n  mutate(diff1 = x - lag(x)) |>\n  mutate(diff2 = diff1 - lag(diff1)) |>\n  rename(\n    \"$$t$$\" = t,\n    \"$$x_t$$\" = x,\n    \"$$\\\\nabla x_t$$\" = diff1,\n    \"$$\\\\nabla^2 x_t$$\" = diff2\n  ) |>\n  display_table(\"0.5in\")\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:center;\"> $$t$$ </th>\n   <th style=\"text-align:center;\"> $$x_t$$ </th>\n   <th style=\"text-align:center;\"> $$\\nabla x_t$$ </th>\n   <th style=\"text-align:center;\"> $$\\nabla^2 x_t$$ </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 1 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 10 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 3 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 13 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 3 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 8 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -8 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 6 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 3 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -1 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 3 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 7 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 9 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 6 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 8 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -7 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -13 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n\n End of two columns \n\n\n End of Check your understanding \n\n\n### Small-Group Activity: Computing Differences\n\n<a id=\"#RepeatedDifferences\">The</a> difference operator can be helpful in identifying the functional underpinnings of a trend.\nIf a function is linear, then the first differences of equally-spaced values will be constant. If a function is quadratic, then the second differences of equally-spaced values will be constant. If a function is cubic, then the third differences of equally-spaced values will be constant, and so on. \n\nCompute the differences specified below.\n\n\n\n\n#### Linear \n\n Beginning of two columns \n columns\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#| fig-asp: 1\n#| fig-width: 4\n\nlinear_fcn <- function(t) { return(5 + 2.5 * t) }\n\ndf_linear <- data.frame(t = 1:9) |>\n  mutate(x = linear_fcn(t)) |>\n  mutate(diff1 = x - lag(x)) |>\n  mutate(diff2 = diff1 - lag(diff1)) |>\n  mutate(diff3 = diff2 - lag(diff2)) \n\ndf_linear |>\n  ggplot(aes(x = t, y = x)) +\n  geom_function(fun = linear_fcn, color = \"#D55E00\", xlim=c(0.8, 9.2)) +\n  geom_point() +\n  scale_x_continuous(breaks=seq(1, 9, by = 1)) +\n  scale_y_continuous(breaks=seq(0, 30, by = 5)) +\n  coord_cartesian(ylim = c(0,30)) +\n  theme_bw() +\n  theme(panel.grid.minor = element_blank()) +\n  labs(\n    title = \"Linear Function\",\n    subtitle = \"x = 2.5 t + 5\"\n  ) +\n  theme(\n    plot.title = element_text(hjust = 0.5),\n    plot.subtitle = element_text(hjust = 0.5)\n  )\n```\n\n::: {.cell-output-display}\n![](chapter_4_lesson_2_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n empty column to create gap \n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_linear |>\n  rename(\n    \"$$t$$\" = t,\n    \"$$x_t$$\" = x,\n    \"$$\\\\nabla x_t$$\" = diff1,\n    \" \" = diff2, \n    \"  \" = diff3\n  ) |>\n  display_table(\"0.5in\")\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:center;\"> $$t$$ </th>\n   <th style=\"text-align:center;\"> $$x_t$$ </th>\n   <th style=\"text-align:center;\"> $$\\nabla x_t$$ </th>\n   <th style=\"text-align:center;\">   </th>\n   <th style=\"text-align:center;\">    </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 1 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 7.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 10.0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 3 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 12.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 15.0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 17.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 6 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 20.0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 7 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 22.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 8 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 25.0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 9 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 27.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n\n\n End of two columns \n\n\n\n\n \n#### Quadratic \n\n\n Beginning of two columns \n columns\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#| fig-asp: 1\n#| fig-width: 4\n\nquadratic_fcn <- function(t) { return(2 * (t - 4.75)^2 - 13.125) }\n\ndf_quadratic <- data.frame(t = 1:9) |>\n  mutate(x = quadratic_fcn(t)) |>\n  mutate(diff1 = x - lag(x)) |>\n  mutate(diff2 = diff1 - lag(diff1)) |>\n  mutate(diff3 = diff2 - lag(diff2))\n\ndf_quadratic |>\n  ggplot(aes(x = t, y = x)) +\n  geom_function(fun = quadratic_fcn, color = \"#D55E00\", xlim=c(0.8, 9.2)) +\n  geom_point() +\n  scale_x_continuous(breaks=seq(1, 9, by = 1)) +\n  scale_y_continuous(breaks=seq(-15, 30, by = 5)) +\n  coord_cartesian(ylim = c(-14,26)) +\n  theme_bw() +\n  theme(panel.grid.minor = element_blank()) +\n  labs(\n    title = \"Quadratic Function\",\n    subtitle = \"x = 2 (t - 4.75)^2 - 13.125\"\n  ) +\n  theme(\n    plot.title = element_text(hjust = 0.5),\n    plot.subtitle = element_text(hjust = 0.5)\n  )\n```\n\n::: {.cell-output-display}\n![](chapter_4_lesson_2_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\n\n\n\n empty column to create gap \n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_quadratic |>\n  rename(\n    \"$$t$$\" = t,\n    \"$$x_t$$\" = x,\n    \"$$\\\\nabla x_t$$\" = diff1,\n    \"$$\\\\nabla^2 x_t$$\" = diff2,\n    \"  \" = diff3\n  ) |>\n  display_table(\"0.5in\")\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:center;\"> $$t$$ </th>\n   <th style=\"text-align:center;\"> $$x_t$$ </th>\n   <th style=\"text-align:center;\"> $$\\nabla x_t$$ </th>\n   <th style=\"text-align:center;\"> $$\\nabla^2 x_t$$ </th>\n   <th style=\"text-align:center;\">    </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 1 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 15 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -13 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 3 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -7 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -9 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -12 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -13 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -1 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 6 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -10 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 3 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 7 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -3 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 7 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 8 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 8 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 11 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 9 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 23 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 15 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n\n\n End of two columns \n\n\n\n#### Cubic \n\n\n Beginning of two columns \n columns\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#| fig-asp: 1\n#| fig-width: 4\n\ncubic_fcn <- function(t) { return((t - 5.5) * (t - 2) * (t - 7) / 10) }\n\ndf_cubic <- data.frame(t = 1:9) |>\n  mutate(x = cubic_fcn(t)) |>\n  mutate(diff1 = x - lag(x)) |>\n  mutate(diff2 = diff1 - lag(diff1)) |>\n  mutate(diff3 = diff2 - lag(diff2)) \n\ndf_cubic |>\n  ggplot(aes(x = t, y = x)) +\n  geom_function(fun = cubic_fcn, color = \"#D55E00\", xlim=c(0.8, 9.2)) +\n  geom_point() +\n  scale_x_continuous(breaks=seq(1, 9, by = 1)) +\n  scale_y_continuous(breaks=seq(-5, 8, by = 1)) +\n  theme_bw() +\n  theme(panel.grid.minor = element_blank()) +\n  labs(\n    title = \"Cubic Function\",\n    subtitle = \"x = (t - 2)(t - 7)(t - 5.5)/10\"\n  ) +\n  theme(\n    plot.title = element_text(hjust = 0.5),\n    plot.subtitle = element_text(hjust = 0.5)\n  )\n```\n\n::: {.cell-output-display}\n![](chapter_4_lesson_2_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n\n\n\n\n empty column to create gap \n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_cubic |>\n  rename(\n    \"$$t$$\" = t,\n    \"$$x_t$$\" = x,\n    \"$$\\\\nabla x_t$$\" = diff1,\n    \"$$\\\\nabla^2 x_t$$\" = diff2,\n    \"$$\\\\nabla^3 x_t$$\" = diff3\n  ) |>\n  display_table(\"0.5in\")\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:center;\"> $$t$$ </th>\n   <th style=\"text-align:center;\"> $$x_t$$ </th>\n   <th style=\"text-align:center;\"> $$\\nabla x_t$$ </th>\n   <th style=\"text-align:center;\"> $$\\nabla^2 x_t$$ </th>\n   <th style=\"text-align:center;\"> $$\\nabla^3 x_t$$ </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 1 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -2.7 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2.7 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 3 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 1.0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 1.0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -1.7 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.9 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -0.1 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -1.1 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.3 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -0.6 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -0.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 6 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -0.2 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -0.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.1 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 7 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.2 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.7 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 8 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 1.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 1.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 1.3 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 9 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4.9 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 3.4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 1.9 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.6 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n\n\n End of two columns \n\n\n\n\n## Small-Group Activity: Differencing Stock Prices (15 min)\n\nIn this activity, you will apply what you have learned to a new stock.\n\n Check Your Understanding \n\n\nModify the code used to get the prices of McDonald's stock</a> to download closing stock prices for a different publicly-traded company over a time period of your choice. \n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\n# Set symbol and date range\nsymbol <- \"MCD\"               # Stock trading symbol for McDonald's\ndate_start <- \"2020-07-01\"\ndate_end <- \"2024-01-01\"\n\n# Fetch stock prices (can be used to get new data)\nstock_df <- tq_get(symbol, from = date_start, to = date_end, get = \"stock.prices\")\n\n# Transform data into tsibble\nstock_ts <- stock_df %>%\n  mutate(\n    dates = date, \n    value = adjusted\n  ) %>%\n  dplyr::select(dates, value) %>%\n  as_tibble() %>% \n  arrange(dates) |>\n  mutate(diff = value - lag(value)) |>\n  as_tsibble(index = dates, key = NULL)\n\n\nplot_ly(stock_ts, x = ~dates, y = ~value, type = 'scatter', mode = 'lines') %>%\n  layout(\n    xaxis = list(title = paste0(\"Dates (\", format(ymd(date_start), \"%d/%m/%Y\"), \" to \", format(ymd(date_end), \"%d/%m/%Y\"), \")\" ) ),\n    yaxis = list(title = \"Closing Price (US$)\"),\n    title = paste0(\"Time Plot of \", symbol, \" Daily Closing Price\")\n  )\n\n# Generate time series plot using plot_ly\nplot_ly(stock_ts, x = ~dates, y = ~diff, type = 'scatter', mode = 'lines') %>%\n  layout(\n    xaxis = list(title = paste0(\"Dates (\", format(ymd(date_start), \"%d/%m/%Y\"), \" to \", format(ymd(date_end), \"%d/%m/%Y\"), \")\" ) ),\n    yaxis = list(title = \"Closing Price (US$)\"),\n    title = paste0(\"Difference of \", symbol, \" Daily Closing Price\")\n)\n\n# Autocorrelation function for stock prices\nacf(stock_ts$value, plot=TRUE, type = \"correlation\", lag.max = 25)\n\n# Autocorrelation function for differences\nacf(stock_ts$diff |> na.omit(), plot=TRUE, type = \"correlation\", lag.max = 25)\n\n# Histogram of differences in stock prices\nstock_ts |>\n  mutate(\n    density = dnorm(diff, mean(stock_ts$diff, na.rm = TRUE), sd(stock_ts$diff, na.rm = TRUE))\n  ) |>\n  ggplot(aes(x = diff)) +\n  geom_histogram(aes(y = after_stat(density)),\n                 color = \"white\", fill = \"#56B4E9\", binwidth = 1) +\n  geom_line(aes(x = diff, y = density)) +\n  theme_bw() +\n  labs(\n    x = \"Difference\",\n    y = \"Frequency\",\n    title = \"Histogram of Difference in the Closing Stock Prices\"\n  ) +\n  theme(\n    plot.title = element_text(hjust = 0.5)\n  )\n\n# Variance of the differences\nvar(stock_ts$diff, na.rm = TRUE)|> round(3)\n```\n:::\n\n\n\nDo the following.\n\n-   Indicate which company you have chosen, the stock symbol, and the time period.\n-   Create a time plot of the daily closing stock prices.\n-   Produce a time plot of the differences in the daily closing stock prices.\n-   Create a correlogram of the stock prices\n-   Create a correlogram of the differences\n-   Generate a histogram of the difference in the stock prices and superimpose the corresponding normal density.\n-   Compute the variance of the differences\n-   Compare your results with those from the other teams of students.\n\n\n\n\n\n This should be a stock where the ACF of the first differences is significant for k=1, but not for k>1. \n This should be a stock where the ACF of the first differences is significant for k=1, but not for k>1. \n This should be a stock where the ACF of the first differences is significant for k=1, but not for k>1. \n ~~~ \n                                     This is very hard to find                                          \n ~~~ \n The correlogram for the residuals from the Holt-Winters model match the correlogram for the differences. Why?  \n The correlogram for the residuals from the Holt-Winters model match the correlogram for the differences. Why?  \n The correlogram for the residuals from the Holt-Winters model match the correlogram for the differences. Why?  \n It's like there is no improvement in the fit of the model after doing Holt-Winters. \n It's like there is no improvement in the fit of the model after doing Holt-Winters. \n It's like there is no improvement in the fit of the model after doing Holt-Winters. \n\n\n## Optional Activity: Integrated Autoregressive Model (10 min)\n\n\n<a href=\"javascript:showhide('IntegratedAutoregressiveModel')\"\nstyle=\"font-size:.8em;\">Click here for further information about Section 4.4.2 in the book</a>\n\n\nThis is a time plot of the quarterly exchange rate (UK Pounds to NZ Dollars, 1991-2000). This is the data set given in the textbook.\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nz <- read_table(\"https://byuistats.github.io/timeseries/data/pounds_nz.dat\")\ndate_seq <- seq(\n    lubridate::ymd(\"1991-01-01\"),\n    by = \"3 months\",\n    length.out = nrow(z))\nz_ts <- z |>\n    mutate(\n        date = date_seq,\n        quarter = tsibble::yearquarter(date)) |>\n    as_tsibble(index = quarter)\nz_ts |>\n  autoplot(.vars = xrate) +\n    labs(\n      title = paste(\"Time Plot of Exchange Rates\"),\n      subtitle = \"(UK Pounds to NZ Dollars, 1991-2000)\",\n      x = \"Quarter\",\n      y = \"Exchange Rate\"\n    ) +\n    theme_minimal() +\n    theme(\n      plot.title = element_text(hjust = 0.5),\n      plot.subtitle = element_text(hjust = 0.5)\n    )\n```\n\n::: {.cell-output-display}\n![](chapter_4_lesson_2_files/figure-html/unnamed-chunk-19-1.png){width=672}\n:::\n:::\n\n\n\nConsider the correlogram of the first differences in the exchange rates.\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nz_ts |>\n    mutate(diff = xrate - lag(xrate)) |>\n    ACF(diff) |>\n    autoplot() +\n    labs(\n      title = paste(\"Correlogram of First Differences of Exchange Rates\"),\n      x = \"Lag\",\n      y = \"Difference\"\n    ) +\n    theme_minimal() +\n    theme(plot.title = element_text(hjust = 0.5))\n```\n\n::: {.cell-output-display}\n![](chapter_4_lesson_2_files/figure-html/unnamed-chunk-20-1.png){width=672}\n:::\n:::\n\n\n\nNotice that for a lag of $k=1$, there is still a significant autocorrelation in the differences. This suggests that a more sophisticated model might be necessary. Note that for $k>1$, the autocorrelations in the differences are not significant. So, a random walk might be a good model for the differences.\n\nWe can add an additional terms to the random walk model using the slope estimate from Holt-Winters. Assume the next term in the time series can be modeled as the previous term plus an estimated slope plus a white noise component. This gives us the first equation below. We will use the Holt-Winters update equation to estimate the slope. This is the second equation below.\n\n$$\n\\begin{cases}\n~~~x_t     = x_{t-1} + b_{t-1} + w_t \\\\\n   b_{t-1} = \\beta \\left( x_{t-1} - x_{t-2} \\right) + (1-\\beta) b_{t-2}\n\\end{cases}\n$$\n\nWe can constrain the Holt-Winters parameters $\\alpha=1$ and $\\gamma=0$, and find the estimated value of $\\beta$.\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nz_model <- z_ts |>\n    model(Additive = ETS(xrate ~\n        trend(\"A\", alpha = 1) +\n        error(\"A\") + season(\"N\", gamma = 0),\n        opt_crit = \"amse\", nmse = 1)) \n\nz_model |>\n  coef()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5  3\n  .model   term  estimate\n  <chr>    <chr>    <dbl>\n1 Additive alpha   1     \n2 Additive beta    0.155 \n3 Additive gamma   0     \n4 Additive l[0]    2.91  \n5 Additive b[0]    0.0104\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nbeta_value <- z_model |>\n  coef() |>\n  filter(term == \"beta\") |>\n  select(estimate) |>\n  pull()\n\nZ.ts <- ts(z, st = 1991, fr = 4)\nZ.hw <- HoltWinters(Z.ts, alpha = 1, gamma = FALSE) # changed from book\n```\n:::\n\n\n\n**Note**: The value of beta obtained using the feasts model() statement is 0.155. This is slightly different than the value obtained using the base R HoltWinters() command: 0.167. This is likely due to differences in the implementation of the Holt-Winters model, including the initial conditions.\n\nThis leads to the system of equations:\n\n$$\n\\begin{cases}\n~~~x_t     = x_{t-1} + b_{t-1} + w_t \\\\\n   b_{t-1} = 0.155 \\left( x_{t-1} - x_{t-2} \\right) + 0.845 ~ b_{t-2}\n\\end{cases}\n$$\n\n\n Check Your Understanding \n\n\nStart with the fitted system of equations\n$$\n\\begin{cases}\n~~~x_t     = x_{t-1} + b_{t-1} + w_t \\\\\n   b_{t-1} = 0.155 \\left( x_{t-1} - x_{t-2} \\right) + 0.845 ~ b_{t-2}\n\\end{cases}\n$$\nShow that it can be written as\n$$\n  \\left( 1 - \\mathbf{B})^2 x_t = (1 - 0.845 \\mathbf{B} \\right) w_t\n$$\nby completing the following steps.\n\n-   Write the system of equations in terms of the backward shift operator.\n-   Solve for the term $\\mathbf{B} b_t$ in the first equation and substitute the resulting expression into the second equation.\n-   Combine like terms and simplify.\n\n\n\nWe will examine the residuals from the Holt-Winters model:\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nz_hw <- z_model |>\n        residuals()\n\nACF(z_hw, .resid) |>\n    autoplot() +\n    labs(\n      title = paste(\"Correlogram of Residuals from Holt-Winters Filtering\"),\n      x = \"Date\",\n      y = \"ACF\"\n    ) +\n    theme_minimal() +\n    theme(plot.title = element_text(hjust = 0.5))\n```\n\n::: {.cell-output-display}\n![](chapter_4_lesson_2_files/figure-html/unnamed-chunk-23-1.png){width=672}\n:::\n:::\n\n\n\nNotice that there are no significant autocorrelations, so we conclude that the Holt-Winters model yields reasonable estimates of the time series.\n\n\n\n End of Integrated Autoregressive Model \n End of Integrated Autoregressive Model \n End of Integrated Autoregressive Model \n End of Integrated Autoregressive Model \n End of Integrated Autoregressive Model \n End of Integrated Autoregressive Model \n End of Integrated Autoregressive Model \n End of Integrated Autoregressive Model \n End of Integrated Autoregressive Model \n\n\n\n\n## Class Activity: Random Walk with Drift (15 min)\n\n This should be a stock with a fairly linear trend over time. \n This should be a stock with a fairly linear trend over time. \n This should be a stock with a fairly linear trend over time. \n This should be a stock with a fairly linear trend over time. \n This should be a stock with a fairly linear trend over time. \n This should be a stock with a fairly linear trend over time. \n\nWe will now consider the daily closing price of Abercrombie & Fitch stock (Symbol = ANF). Here is a time series plot of the closing stock prices.\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\n# Set symbol and date range\nsymbol <- \"ANF\"                # Abercrombie & Fitch stock trading symbol\ndate_start <- \"2023-05-01\"\ndate_end <- \"2024-02-20\"\n\n# Fetch stock prices\ndf_stock <- tq_get(symbol, from = date_start, to = date_end, get = \"stock.prices\")\n\n# Transform data into tsibble\ndf_tsibble <- df_stock |>\n  mutate(\n    dates = date, \n    value = close\n  ) |>\n  dplyr::select(dates, value) |>\n  as_tibble() |> \n  arrange(dates) |>\n  as_tsibble(index = dates, key = NULL)\n\n# Generate time series plot using plot_ly\nplot_ly(df_tsibble, x = ~dates, y = ~value, type = 'scatter', mode = 'lines') |>\n  layout(\n    xaxis = list(title = \"Date\"),\n    yaxis = list(title = \"Value\"),\n    title = paste0(\"Time Plot of \", symbol, \" Daily Closing Price (\", format(ymd(date_start), \"%d %b %Y\"), \" - \", format(ymd(date_end), \"%d %b %Y\"),\")\")\n  )\n```\n\n::: {#fig-TimePlotOfStockPricesANF .cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-924cc68f0b4ddc298154\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-924cc68f0b4ddc298154\">{\"x\":{\"visdat\":{\"4a7c434e2b5f\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"4a7c434e2b5f\",\"attrs\":{\"4a7c434e2b5f\":{\"x\":{},\"y\":{},\"mode\":\"lines\",\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatter\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"Date\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"Value\"},\"title\":\"Time Plot of ANF Daily Closing Price (01 May 2023 - 20 Feb 2024)\",\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"x\":[\"2023-05-01\",\"2023-05-02\",\"2023-05-03\",\"2023-05-04\",\"2023-05-05\",\"2023-05-08\",\"2023-05-09\",\"2023-05-10\",\"2023-05-11\",\"2023-05-12\",\"2023-05-15\",\"2023-05-16\",\"2023-05-17\",\"2023-05-18\",\"2023-05-19\",\"2023-05-22\",\"2023-05-23\",\"2023-05-24\",\"2023-05-25\",\"2023-05-26\",\"2023-05-30\",\"2023-05-31\",\"2023-06-01\",\"2023-06-02\",\"2023-06-05\",\"2023-06-06\",\"2023-06-07\",\"2023-06-08\",\"2023-06-09\",\"2023-06-12\",\"2023-06-13\",\"2023-06-14\",\"2023-06-15\",\"2023-06-16\",\"2023-06-20\",\"2023-06-21\",\"2023-06-22\",\"2023-06-23\",\"2023-06-26\",\"2023-06-27\",\"2023-06-28\",\"2023-06-29\",\"2023-06-30\",\"2023-07-03\",\"2023-07-05\",\"2023-07-06\",\"2023-07-07\",\"2023-07-10\",\"2023-07-11\",\"2023-07-12\",\"2023-07-13\",\"2023-07-14\",\"2023-07-17\",\"2023-07-18\",\"2023-07-19\",\"2023-07-20\",\"2023-07-21\",\"2023-07-24\",\"2023-07-25\",\"2023-07-26\",\"2023-07-27\",\"2023-07-28\",\"2023-07-31\",\"2023-08-01\",\"2023-08-02\",\"2023-08-03\",\"2023-08-04\",\"2023-08-07\",\"2023-08-08\",\"2023-08-09\",\"2023-08-10\",\"2023-08-11\",\"2023-08-14\",\"2023-08-15\",\"2023-08-16\",\"2023-08-17\",\"2023-08-18\",\"2023-08-21\",\"2023-08-22\",\"2023-08-23\",\"2023-08-24\",\"2023-08-25\",\"2023-08-28\",\"2023-08-29\",\"2023-08-30\",\"2023-08-31\",\"2023-09-01\",\"2023-09-05\",\"2023-09-06\",\"2023-09-07\",\"2023-09-08\",\"2023-09-11\",\"2023-09-12\",\"2023-09-13\",\"2023-09-14\",\"2023-09-15\",\"2023-09-18\",\"2023-09-19\",\"2023-09-20\",\"2023-09-21\",\"2023-09-22\",\"2023-09-25\",\"2023-09-26\",\"2023-09-27\",\"2023-09-28\",\"2023-09-29\",\"2023-10-02\",\"2023-10-03\",\"2023-10-04\",\"2023-10-05\",\"2023-10-06\",\"2023-10-09\",\"2023-10-10\",\"2023-10-11\",\"2023-10-12\",\"2023-10-13\",\"2023-10-16\",\"2023-10-17\",\"2023-10-18\",\"2023-10-19\",\"2023-10-20\",\"2023-10-23\",\"2023-10-24\",\"2023-10-25\",\"2023-10-26\",\"2023-10-27\",\"2023-10-30\",\"2023-10-31\",\"2023-11-01\",\"2023-11-02\",\"2023-11-03\",\"2023-11-06\",\"2023-11-07\",\"2023-11-08\",\"2023-11-09\",\"2023-11-10\",\"2023-11-13\",\"2023-11-14\",\"2023-11-15\",\"2023-11-16\",\"2023-11-17\",\"2023-11-20\",\"2023-11-21\",\"2023-11-22\",\"2023-11-24\",\"2023-11-27\",\"2023-11-28\",\"2023-11-29\",\"2023-11-30\",\"2023-12-01\",\"2023-12-04\",\"2023-12-05\",\"2023-12-06\",\"2023-12-07\",\"2023-12-08\",\"2023-12-11\",\"2023-12-12\",\"2023-12-13\",\"2023-12-14\",\"2023-12-15\",\"2023-12-18\",\"2023-12-19\",\"2023-12-20\",\"2023-12-21\",\"2023-12-22\",\"2023-12-26\",\"2023-12-27\",\"2023-12-28\",\"2023-12-29\",\"2024-01-02\",\"2024-01-03\",\"2024-01-04\",\"2024-01-05\",\"2024-01-08\",\"2024-01-09\",\"2024-01-10\",\"2024-01-11\",\"2024-01-12\",\"2024-01-16\",\"2024-01-17\",\"2024-01-18\",\"2024-01-19\",\"2024-01-22\",\"2024-01-23\",\"2024-01-24\",\"2024-01-25\",\"2024-01-26\",\"2024-01-29\",\"2024-01-30\",\"2024-01-31\",\"2024-02-01\",\"2024-02-02\",\"2024-02-05\",\"2024-02-06\",\"2024-02-07\",\"2024-02-08\",\"2024-02-09\",\"2024-02-12\",\"2024-02-13\",\"2024-02-14\",\"2024-02-15\",\"2024-02-16\"],\"y\":[23.299999237060547,23.059999465942383,22.770000457763672,21.829999923706055,22.719999313354492,23.290000915527344,23.440000534057617,22.950000762939453,23.340000152587891,23.959999084472656,24.450000762939453,23.069999694824219,24.229999542236328,24.129999160766602,22.860000610351562,22.760000228881836,23.010000228881836,30.159999847412109,28.559999465942383,29.950000762939453,31.399999618530273,31.030000686645508,30.309999465942383,31.799999237060547,31.600000381469727,32.729999542236328,33.75,34.950000762939453,34.240001678466797,34.389999389648438,34.990001678466797,35.590000152587891,36.240001678466797,36.080001831054688,36.240001678466797,36.900001525878906,37.209999084472656,36.930000305175781,37.180000305175781,37.470001220703125,36.700000762939453,37.849998474121094,37.680000305175781,37.290000915527344,36.119998931884766,35.520000457763672,35.540000915527344,35.319999694824219,35.799999237060547,35.299999237060547,33.979999542236328,34.909999847412109,37.419998168945312,37.159999847412109,37.029998779296875,36.330001831054688,36.060001373291016,37.209999084472656,37.700000762939453,38.709999084472656,38.959999084472656,39.979999542236328,39.610000610351562,39.5,38.919998168945312,39,39.229999542236328,39.450000762939453,39.659999847412109,39.930000305175781,40.290000915527344,39.439998626708984,41.360000610351562,41.430000305175781,41.959999084472656,41.110000610351562,43.200000762939453,41.759998321533203,41.169998168945312,50.860000610351562,50.459999084472656,50.159999847412109,49.509998321533203,51.319999694824219,52.290000915527344,53.75,54.5,54.849998474121094,54.979999542236328,54.610000610351562,53.319999694824219,53.400001525878906,52.259998321533203,50.639999389648438,51.259998321533203,52.400001525878906,50.889999389648438,50.580001831054688,50.25,49.319999694824219,50.630001068115234,51.759998321533203,52.840000152587891,54.560001373291016,56.049999237060547,56.369998931884766,58.310001373291016,55.490001678466797,55.130001068115234,54.540000915527344,55.009998321533203,56.880001068115234,59.770000457763672,61.5,61.740001678466797,60.389999389648438,62.720001220703125,62.979999542236328,63.240001678466797,60.659999847412109,60.900001525878906,59.970001220703125,62.349998474121094,61.580001831054688,59.849998474121094,58.720001220703125,59.610000610351562,60.819999694824219,62.130001068115234,63.310001373291016,65.5,66.269996643066406,67.80999755859375,67.919998168945312,66.75,66.970001220703125,66.389999389648438,68.680000305175781,69.800003051757812,68.980003356933594,73.569999694824219,72.290000915527344,74.029998779296875,72.80999755859375,73.30999755859375,76.400001525878906,77.730003356933594,76.129997253417969,75.889999389648438,77.879997253417969,77.220001220703125,77.730003356933594,77.129997253417969,77.94000244140625,78.650001525878906,81.629997253417969,83.519996643066406,83.75,83.819999694824219,84.169998168945312,86.669998168945312,90.959999084472656,89.889999389648438,93.19000244140625,92.580001831054688,91.55999755859375,91.389999389648438,90.010002136230469,88.220001220703125,90.959999084472656,88.760002136230469,92.5,90.540000915527344,96.220001220703125,94.010002136230469,96.709999084472656,98.430000305175781,96.790000915527344,98.889999389648438,99.470001220703125,97.029998779296875,101.11000061035156,104.66999816894531,102.61000061035156,102.19000244140625,102.45999908447266,103.80000305175781,105.05999755859375,105.69000244140625,101.90000152587891,106.58000183105469,109.47000122070312,106.44999694824219,104.08000183105469,103.95999908447266,107.31999969482422,110.11000061035156,114.94000244140625,116.84999847412109,119.25,119.80000305175781,120.90000152587891],\"mode\":\"lines\",\"type\":\"scatter\",\"marker\":{\"color\":\"rgba(31,119,180,1)\",\"line\":{\"color\":\"rgba(31,119,180,1)\"}},\"error_y\":{\"color\":\"rgba(31,119,180,1)\"},\"error_x\":{\"color\":\"rgba(31,119,180,1)\"},\"line\":{\"color\":\"rgba(31,119,180,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n\nTime plot of the daily prices of ANF stock\n:::\n:::\n\n\n\nWe now generate a time plot and a correlogram of the differences. (No stock prices are recorded on weekends or holidays. Due to the gaps in the data, we will use the base R `acf` command, rather than the feasts `ACF` command.)\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\ndf_tsibble$diff = df_tsibble$value - lag(df_tsibble$value) \ndf_tsibble |>\n  na.omit() |>\n  autoplot(.vars = diff) + \n    labs(\n      title = paste(\"Time Plot of Differences in Daily\", symbol, \"Stock Prices\"),\n      subtitle = \n        paste0(\n          format(ymd(date_start), \"%d %b %Y\"),\n            \" - \",\n          format(ymd(date_end), \"%d %b %Y\")\n          ),\n      x = \"Date\",\n      y = \"Difference\",\n    ) +\n    theme_minimal() +\n    theme(\n      plot.title = element_text(hjust = 0.5),\n      plot.subtitle = element_text(hjust = 0.5)\n    )\n```\n\n::: {.cell-output-display}\n![Time plot of differences in the daily prices of ANF stock](chapter_4_lesson_2_files/figure-html/fig-TimePlotOfDifferenceOfStockPricesANF-1.png){#fig-TimePlotOfDifferenceOfStockPricesANF width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nacf(df_tsibble$diff |> na.omit(), main = paste(\"ACF of First Difference of\", symbol, \"Stock Prices\"))\n```\n\n::: {.cell-output-display}\n![Correlogram of first differences for the daily prices of ANF stock](chapter_4_lesson_2_files/figure-html/fig-ACFOfStockPricesANF-1.png){#fig-ACFOfStockPricesANF width=672}\n:::\n:::\n\n\n\nThere is no significant autocorrelation in the differences. They appear to be modeled reasonably well by white noise. \n\nWe now compute the mean and standard deviation of the differences.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmean_diff <- df_tsibble$diff |> mean(na.rm = TRUE)\nsd_diff <- df_tsibble$diff |> sd(na.rm = TRUE)\nn_diff <- df_tsibble$diff |> na.omit() |> length()\n```\n:::\n\n\n\nThe mean of the differences is 0.486. The standard deviation of the differences is 1.732. There are 201 differences.\n\nWe can use the t-distribution to create a 95% confidence interval for the drift parameter. \nThe critical $t$ value is given by\n`qt(0.975, df = 201 - 1)`, yielding a value of $t^*_{0.975} = 1.972$.\n\nSo, our 95% confidence interval is computed as:\n$$\n  \\left(\n    \\bar x - t^*_{0.975} \\cdot \\frac{s}{\\sqrt{n}}\n    , ~\n    \\bar x + t^*_{0.975} \\cdot \\frac{s}{\\sqrt{n}}\n  \\right)\n$$\n$$\n  \\left(\n    0.486 - 1.972 \\cdot  \\frac{1.732}{\\sqrt{201}}\n    , ~\n    0.486 + 1.972 \\cdot  \\frac{1.732}{\\sqrt{201}}\n  \\right)\n$$\n$$\n  (0.245\n  , ~\n  0.726)\n$$\n\nThis confidence interval does not contain 0, so we conclude that there is evidence of a positive drift in the price of Abercrombie & Fitch stock over this period.\n\n\n\n Check Your Understanding \n\n\nUse the McDonald's stock price data to do the following.\n\n-   What is the estimate of the drift parameter?\n-   What is the standard deviation of the differences?\n-   What is the 95% confidence interval for the drift parameter?\n-   Is there evidence to suggest that the time series can be modeled as a random walk with drift? Why or why not?\n\n\n\n\n\n\n\n\n## Homework Preview (5 min)\n\n-   Review upcoming homework assignment\n-   Clarify questions\n\n\n {.callout-note icon=false icon=false}\n\n## Download Homework\n\n<a href=\"https://byuistats.github.io/timeseries/homework/homework_4_2.qmd\" download=\"homework_4_2.qmd\"> homework_4_2.qmd </a>\n\n\n\n\n<a href=\"https://github.com/TBrost/BYUI-Timeseries-Drafts/raw/master/handouts/chapter_4_2_handout_key.xlsx\" download=\"chapter_4_2_handout_key.xlsx\"> Tables-Handout-Excel-key </a>\n\n\n\n<center>\n\n\n\n```{.r .cell-code}\ncat( paste( paste0(\"$x_{\", d_operator$t, \"} = \", d_operator$x, \"$\"), collapse = \",$~$ \" ) ) \n```\n\n$x_{1} = 5$,$~$ $x_{2} = 10$,$~$ $x_{3} = 13$,$~$ $x_{4} = 8$,$~$ $x_{5} = 4$,$~$ $x_{6} = 3$,$~$ $x_{7} = 9$,$~$ $x_{8} = 2$\n\n\n</center>\n\nCheck Your Understanding Solutions:\n\n Beginning of two columns \n\n-   The values of the first differences are:\n$$\n\\nabla x_t = \n\\{\n5,\n~~\n3,\n~~\n-5,\n~~\n-4,\n~~\n-1,\n~~\n6,\n~~\n-7\\}$$\n\n-   The values of the second differences are:\n$$\n\\nabla^2 x_t =\n\\{\n-2,\n~~\n-8,\n~~\n1,\n~~\n3,\n~~\n7,\n~~\n-13\\}$$\n\n- By substitution, we get:\n\n\\begin{align*}\n(1-\\mathbf{B} )^2 x_8 \n&= (1-\\mathbf{B} ) \\left[ (1-\\mathbf{B} ) x_8 \\right] \\\\\n&= (1-\\mathbf{B} ) ( x_8 - x_7 ) \\\\\n&= ( x_8 - x_7 ) - \\mathbf{B} ( x_8 - x_7 ) \\\\\n&= ( x_8 - x_7 ) - ( x_7 - x_6 ) \\\\\n&= ( \\nabla x_8 ) - ( \\nabla x_7 ) \\\\\n&= \\nabla ( \\nabla x_8 ) \\\\\n&= \\nabla^2 x_8 \n\\end{align*}\n\n\n$$\n  \\nabla^2 x_8 \n    = \\nabla \\left( \\nabla x_8 \\right)\n    = ( x_8 - x_7 ) - ( x_7 - x_6 ) \n    = (2 - 9) - (9 - 3) \\\\\n    = -13\n$$\nThis is the value of the last term in the sequence of second differences.\n\n\n empty column to create gap \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nd_operator |>\n  dplyr::select(-diff) |>\n  mutate(diff1 = x - lag(x)) |>\n  mutate(diff2 = diff1 - lag(diff1)) |>\n  rename(\n    \"$$t$$\" = t,\n    \"$$x_t$$\" = x,\n    \"$$\\\\nabla x_t$$\" = diff1,\n    \"$$\\\\nabla^2 x_t$$\" = diff2\n  ) |>\n  display_table(\"0.5in\")\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:center;\"> $$t$$ </th>\n   <th style=\"text-align:center;\"> $$x_t$$ </th>\n   <th style=\"text-align:center;\"> $$\\nabla x_t$$ </th>\n   <th style=\"text-align:center;\"> $$\\nabla^2 x_t$$ </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 1 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 10 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 3 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 13 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 3 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 8 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -8 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 6 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 3 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -1 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 3 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 7 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 9 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 6 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 8 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -7 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -13 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n\n End of two columns \n\n\n\n End of solution \n\n\n\n\n Solutions at the bottom of the page \n\n\n#### Linear \n\n Beginning of two columns \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#| fig-asp: 1\n#| fig-width: 4\n\nlinear_fcn <- function(t) { return(5 + 2.5 * t) }\n\ndf_linear <- data.frame(t = 1:9) |>\n  mutate(x = linear_fcn(t)) |>\n  mutate(diff1 = x - lag(x)) |>\n  mutate(diff2 = diff1 - lag(diff1)) |>\n  mutate(diff3 = diff2 - lag(diff2)) \n\ndf_linear |>\n  ggplot(aes(x = t, y = x)) +\n  geom_function(fun = linear_fcn, color = \"#D55E00\", xlim=c(0.8, 9.2)) +\n  geom_point() +\n  scale_x_continuous(breaks=seq(1, 9, by = 1)) +\n  scale_y_continuous(breaks=seq(0, 30, by = 5)) +\n  coord_cartesian(ylim = c(0,30)) +\n  theme_bw() +\n  theme(panel.grid.minor = element_blank()) +\n  labs(\n    title = \"Linear Function\",\n    subtitle = \"x = 2.5 t + 5\"\n  ) +\n  theme(\n    plot.title = element_text(hjust = 0.5),\n    plot.subtitle = element_text(hjust = 0.5)\n  )\n```\n\n::: {.cell-output-display}\n![](chapter_4_lesson_2_files/figure-html/unnamed-chunk-30-1.png){width=672}\n:::\n:::\n\n\n\n empty column to create gap \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_linear |>\n  rename(\n    \"$$t$$\" = t,\n    \"$$x_t$$\" = x,\n    \"$$\\\\nabla x_t$$\" = diff1,\n    \"$$\\\\nabla^2 x_t$$\" = diff2,\n    \"$$\\\\nabla^3 x_t$$\" = diff3\n  ) |>\n  display_table(\"0.5in\")\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:center;\"> $$t$$ </th>\n   <th style=\"text-align:center;\"> $$x_t$$ </th>\n   <th style=\"text-align:center;\"> $$\\nabla x_t$$ </th>\n   <th style=\"text-align:center;\"> $$\\nabla^2 x_t$$ </th>\n   <th style=\"text-align:center;\"> $$\\nabla^3 x_t$$ </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 1 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 7.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 10.0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 3 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 12.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 15.0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 17.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 6 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 20.0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 7 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 22.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 8 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 25.0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 9 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 27.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n\n End of two columns \n\n\n\n\n \n#### Quadratic\n\n\n Beginning of two columns \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#| fig-asp: 1\n#| fig-width: 4\n\nquadratic_fcn <- function(t) { return(2 * (t - 4.75)^2 - 13.125) }\n\ndf_quadratic <- data.frame(t = 1:9) |>\n  mutate(x = quadratic_fcn(t)) |>\n  mutate(diff1 = x - lag(x)) |>\n  mutate(diff2 = diff1 - lag(diff1)) |>\n  mutate(diff3 = diff2 - lag(diff2))\n\ndf_quadratic |>\n  ggplot(aes(x = t, y = x)) +\n  geom_function(fun = quadratic_fcn, color = \"#D55E00\", xlim=c(0.8, 9.2)) +\n  geom_point() +\n  scale_x_continuous(breaks=seq(1, 9, by = 1)) +\n  scale_y_continuous(breaks=seq(-15, 30, by = 5)) +\n  coord_cartesian(ylim = c(-14,26)) +\n  theme_bw() +\n  theme(panel.grid.minor = element_blank()) +\n  labs(\n    title = \"Quadratic Function\",\n    subtitle = \"x = 2 (t - 4.75)^2 - 13.125\"\n  ) +\n  theme(\n    plot.title = element_text(hjust = 0.5),\n    plot.subtitle = element_text(hjust = 0.5)\n  )\n```\n\n::: {.cell-output-display}\n![](chapter_4_lesson_2_files/figure-html/unnamed-chunk-32-1.png){width=672}\n:::\n:::\n\n\n\n empty column to create gap \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_quadratic |>\n  rename(\n    \"$$t$$\" = t,\n    \"$$x_t$$\" = x,\n    \"$$\\\\nabla x_t$$\" = diff1,\n    \"$$\\\\nabla^2 x_t$$\" = diff2,\n    \"  \" = diff3\n  ) |>\n  display_table(\"0.5in\")\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:center;\"> $$t$$ </th>\n   <th style=\"text-align:center;\"> $$x_t$$ </th>\n   <th style=\"text-align:center;\"> $$\\nabla x_t$$ </th>\n   <th style=\"text-align:center;\"> $$\\nabla^2 x_t$$ </th>\n   <th style=\"text-align:center;\">    </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 1 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 15 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -13 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 3 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -7 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -9 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -12 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -13 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -1 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 6 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -10 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 3 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 7 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -3 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 7 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 8 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 8 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 11 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 9 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 23 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 15 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n\n End of two columns \n\n\n\n#### Cubic\n\n\n Beginning of two columns \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#| fig-asp: 1\n#| fig-width: 4\n\ncubic_fcn <- function(t) { return((t - 5.5) * (t - 2) * (t - 7) / 10) }\n\ndf_cubic <- data.frame(t = 1:9) |>\n  mutate(x = cubic_fcn(t)) |>\n  mutate(diff1 = x - lag(x)) |>\n  mutate(diff2 = diff1 - lag(diff1)) |>\n  mutate(diff3 = diff2 - lag(diff2)) \n\ndf_cubic |>\n  ggplot(aes(x = t, y = x)) +\n  geom_function(fun = cubic_fcn, color = \"#D55E00\", xlim=c(0.8, 9.2)) +\n  geom_point() +\n  scale_x_continuous(breaks=seq(1, 9, by = 1)) +\n  scale_y_continuous(breaks=seq(-5, 8, by = 1)) +\n  theme_bw() +\n  theme(panel.grid.minor = element_blank()) +\n  labs(\n    title = \"Cubic Function\",\n    subtitle = \"x = (t - 2)(t - 7)(t - 5.5)/10\"\n  ) +\n  theme(\n    plot.title = element_text(hjust = 0.5),\n    plot.subtitle = element_text(hjust = 0.5)\n  )\n```\n\n::: {.cell-output-display}\n![](chapter_4_lesson_2_files/figure-html/unnamed-chunk-34-1.png){width=672}\n:::\n:::\n\n\n\n\n empty column to create gap \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_cubic |>\n  rename(\n    \"$$t$$\" = t,\n    \"$$x_t$$\" = x,\n    \"$$\\\\nabla x_t$$\" = diff1,\n    \"$$\\\\nabla^2 x_t$$\" = diff2,\n    \"$$\\\\nabla^3 x_t$$\" = diff3\n  ) |>\n  display_table(\"0.5in\")\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:center;\"> $$t$$ </th>\n   <th style=\"text-align:center;\"> $$x_t$$ </th>\n   <th style=\"text-align:center;\"> $$\\nabla x_t$$ </th>\n   <th style=\"text-align:center;\"> $$\\nabla^2 x_t$$ </th>\n   <th style=\"text-align:center;\"> $$\\nabla^3 x_t$$ </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 1 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -2.7 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 2.7 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 3 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 1.0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 1.0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -1.7 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.9 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -0.1 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -1.1 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.3 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -0.6 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -0.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 6 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -0.2 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> -0.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.1 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 7 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.0 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.2 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.7 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 8 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 1.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 1.5 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 1.3 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 9 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 4.9 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 3.4 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 1.9 </td>\n   <td style=\"text-align:center;min-width: 0.5in; \"> 0.6 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n\n End of two columns \n\n End of Solution \n\n\n\n\n\n\n\n Solutions at the bottom of the page \n\n\n\n Check Your Understanding \n\n\nStart with this fitted system of equations. Show that it can be written as\n$$\n  (1 - \\mathbf{B})^2 x_t = (1 - 0.845) w_t\n$$\nby completing the following steps.\n\n-   Write the system of equations in terms of the backward shift operator.\n$$\n\\begin{cases}\n~~~x_t     = x_{t-1} + b_{t-1} + w_t \\\\\n   b_{t-1} = 0.155 \\left( x_{t-1} - x_{t-2} \\right) + 0.845 ~ b_{t-2}\n\\end{cases}\n$$\n$$\n\\begin{cases}\n~~~x_t     = \\mathbf{B} x_{t} + \\mathbf{B} b_{t} + w_t \\\\\n   \\mathbf{B} b_{t} = 0.155 \\left( \\mathbf{B} x_{t} - \\mathbf{B}^2 x_{t} \\right) + 0.845 ~ \\mathbf{B}^2 b_{t}\n\\end{cases}\n$$\n\n-   Solve for the term $\\mathbf{B}b_t$ in the first equation and substitute the resulting expression into the second equation.\n\nSolving for $\\mathbf{B} b_{t}$:\n$$\n\\mathbf{B} b_{t} = x_t -\\mathbf{B} x_{t} - w_t = (1-\\mathbf{B}) x_t - w_t\n$$\nFirst, we simplify the second equation:\n\\begin{align*}\n  \\mathbf{B} b_{t}\n    &= 0.155 \\left( \\mathbf{B} x_{t} - \\mathbf{B}^2 x_{t} \\right) + 0.845 ~ \\mathbf{B}^2 b_{t}  \\\\\n    &= 0.155 \\left(  1 - \\mathbf{B} \\right) \\mathbf{B} x_{t}   + 0.845 ~ \\mathbf{B} \\left[ \\mathbf{B} b_{t} \\right]\n\\end{align*}\nSubstitutingthe expression for $\\mathbf{B} b_{t}$ into the second equation:\n\\begin{align*}\n  (1-\\mathbf{B}) x_t - w_t\n    &= 0.155 \\left(  1 - \\mathbf{B} \\right) \\mathbf{B} x_{t}   + 0.845 ~ \\mathbf{B} \\left[ (1-\\mathbf{B}) x_t - w_t \\right]  \\\\\n    &= 0.155 \\left(  1 - \\mathbf{B} \\right) \\mathbf{B} x_{t}   + 0.845 ~ \\mathbf{B} (1-\\mathbf{B}) x_t - 0.845 ~ \\mathbf{B} w_t \\\\\n    &= \\left(  1 - \\mathbf{B} \\right) \\mathbf{B} x_{t} - 0.845 ~ \\mathbf{B} w_t   \\\\\n\\end{align*}\n\n-   Combine like terms and simplify.\n\nCombining like terms:\n\\begin{align*}\n  (1-\\mathbf{B}) x_t - w_t\n    &= \\left(  1 - \\mathbf{B} \\right) \\mathbf{B} x_{t} - 0.845 ~ \\mathbf{B} w_t   \\\\\n  (1-\\mathbf{B}) x_t - \\left(  1 - \\mathbf{B} \\right) \\mathbf{B} x_{t}\n    &=  w_t - 0.845 ~ \\mathbf{B} w_t   \\\\\n  \\left( 1-\\mathbf{B} \\right) \\left(  1 - \\mathbf{B} \\right) x_{t}\n    &=  \\left( 1 - 0.845 ~ \\mathbf{B} \\right) w_t   \\\\\n  \\left( 1-\\mathbf{B} \\right)^2 x_{t}\n    &=  \\left( 1 - 0.845 ~ \\mathbf{B} \\right) w_t   \\\\\n\\end{align*}\n\nThis is a special case of the ARIMA models in Chapter 7.\n\n End of solution for Holt Winters Fitting \n\n\n\n\n Solutions at the bottom of the page \n\n\nSolutions to Class Activity\n\n Check Your Understanding \n\n\nUse the McDonald's stock price data to do the following.\n\n-   What is the estimate of the drift parameter?\n\nAs seen above, there is no significant autocorrelation in the differences of the McDonald's stock prices. They appear to be modeled well by white noise. \n\nWe now compute the mean and standard deviation of the differences.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmean_diff <- stock_ts$diff |> mean(na.rm = TRUE)\nsd_diff <- stock_ts$diff |> sd(na.rm = TRUE)\nn_diff <- stock_ts$diff |> na.omit() |> length()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(stock_ts$diff, na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.1396449\n```\n\n\n:::\n:::\n\n\n\n-   What is the standard deviation of the differences?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsd(stock_ts$diff, na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2.404863\n```\n\n\n:::\n:::\n\n\n\n-   What is the 95% confidence interval for the drift parameter?\n\nThe number of differences, $n$, is given by:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlength(stock_ts$diff |> na.omit())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 880\n```\n\n\n:::\n:::\n\n\n\nThe mean of the differences is 0.14. The standard deviation of the differences is 2.405. There are 880 differences.\n\nWe can use the t-distribution to create a 95% confidence interval for the drift parameter. \nThe critical $t$ value is given by\n`qt(0.975, df = 880 - 1)`, yielding a value of $t^*_{0.975} = 1.963$.\n\nSo, our 95% confidence interval is computed as:\n$$\n  \\left(\n    \\bar x - t^*_{0.975} \\cdot \\frac{s}{\\sqrt{n}}\n    , ~\n    \\bar x + t^*_{0.975} \\cdot \\frac{s}{\\sqrt{n}}\n  \\right)\n$$\n$$\n  \\left(\n    0.14 - 1.963 \\cdot  \\frac{2.405}{\\sqrt{880}}\n    , ~\n    0.14 + 1.963 \\cdot  \\frac{2.405}{\\sqrt{880}}\n  \\right)\n$$\n$$\n  (-0.019\n  , ~\n  0.299)\n$$\n\n\n-   Is there evidence to suggest that the time series can be modeled as a random walk with drift? Why or why not?\n\nIf this confidence contains 0, we cannot conclude that there is evidence of a positive drift in the price of McDonald's stock over the period.\n\n\n\n\n\n",
    "supporting": [
      "chapter_4_lesson_2_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<script src=\"site_libs/plotly-binding-4.10.4/plotly.js\"></script>\n<script src=\"site_libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"site_libs/crosstalk-1.2.1/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/crosstalk-1.2.1/js/crosstalk.min.js\"></script>\n<link href=\"site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/plotly-main-2.11.1/plotly-latest.min.js\"></script>\n<script src=\"site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}